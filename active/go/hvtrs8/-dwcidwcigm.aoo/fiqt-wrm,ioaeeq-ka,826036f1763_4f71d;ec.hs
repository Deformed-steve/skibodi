if (!self.__uv && self.importScripts) importScripts('/active/uv/uv.bundle.js', '/active/uv/uv.config.js', '/active/uv/uv.handler.js');
"use strict";(self.webpackChunkddg=self.webpackChunkddg||[]).push([[3072],{30399:(e,t,a)=>{a.r(t),a.d(t,{default:()=>H});var r,n,i=a(13461),s=(a(23792),a(38781),a(42762),a(62953),a(96472)),l=a(28515);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[__uv.$wrap((t))];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[__uv.$wrap((r))]=a[__uv.$wrap((r))])}return e},o.apply(null,arguments)}const c=function(e){return s.createElement("svg",o({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=s.createElement("path",{d:"M4.5 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z",fill:"currentColor"})),n||(n=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.25 1A3.25 3.25 0 0 0 0 4.25v7.5A3.25 3.25 0 0 0 3.25 15h9.5A3.25 3.25 0 0 0 16 11.75v-7.5A3.25 3.25 0 0 0 12.75 1h-9.5ZM14.5 8.44V4.25a1.75 1.75 0 0 0-1.75-1.75h-9.5A1.75 1.75 0 0 0 1.5 4.25v7.5c0 .206.036.404.101.588L5.97 7.97a.75.75 0 0 1 1.06 0l.97.97 2.97-2.97a.75.75 0 0 1 1.06 0l2.47 2.47ZM9.06 10l.97.97a.75.75 0 1 1-1.06 1.06L6.5 9.56 2.662 13.4c.184.065.382.101.588.101h9.5a1.75 1.75 0 0 0 1.75-1.75v-1.19l-3-3L9.06 10Z",fill:"currentColor"})))};var u=a(61908),m=a(38377),d=a(84735),g=a(55921),h=a(83995),p=a(93519),f=a(12100),x=a(60608),b=a(69700),v=a(61720);const j={mosaic:"Ja_JuvQqj4pzJXnibmFu",mosaicRow:"skVtxaEGsSf3Qitumkwd",isLoading:"tbaJCdyJDukkUw3XEYqH",mosaicRowWrapper:"JsSUJuBuiMOz1I2mjVBu",titleIcon:"sXtH55aPBX0rS_YbJP_k",headerContainer:"f95otOmnNwmTAEV73EtX",noResultsContainer:"R7IrfORS5_cBCTWmP6u0",clearFilterButton:"Pp9bRV_7DQav3WPdxFDP",noResultsText:"Y4G2CXWYMW1RwoIdepwX",errorContainer:"giXpPT48ncOrbqDejidE",errorMessage:"pyC5wUuiVJMOL6rmnybw",errorRetryLink:"W4lgKbCmzLNL2M5615VW",resetAIFilterButton:"cIfRb13UCuj2VNnGEbM5",moduleDivider:"y7HWks65kkxIvKy8qUD2",truncatedTitle:"b6flltEIsDoXVl4l3Lg4"};a(69085),a(27495),a(25440),a(12041);var I=a(51720),A=a(83360);const y="ClGqLRoENdI55Xe4Xybd";var O=a(2180),k=a(5049),w=a.n(k),E=a(32144),R=a(97284);function S({iaItem:e,url:t,title:a,domain:r,onMenuOpen:n}){return(0,R.jsx)("figcaption",{children:(0,R.jsxs)(O.A,{href:t,className:"LoKp3Fw5tsPJr5z6FWa0",item:e,children:[!!a&&(0,R.jsx)(I.xL,{as:"h3",variant:"caption",title:a,className:w()("WfyrfHbpzfS5EiGZDeLv",y),children:a}),(0,R.jsxs)("div",{className:"AslhWnAFZ5lUdU7yLCCa",children:[(0,R.jsxs)("div",{className:"cuV1YO5OpXpi1oBDAZUX",children:[(0,R.jsx)(A.A,{url:t}),!!r&&(0,R.jsx)(I.xL,{as:"p",variant:"label",className:w()("SdDhImKi0Wx51uB1gMgj",y),title:r,children:r})]}),(0,R.jsx)(E.A,{vertical:"web",imageUrl:t,domain:null!=r?r:"",onMenuOpen:n,variant:"xSmall",feedbackLocation:"module"})]})]})})}var L=a(5051),M=a(79673),_=a(46588);var C=a(7014);function N(){return(0,C.Ay)("(max-width: 666px)",!0)}const P=(0,s.memo)((function({iaItem:e,imageItem:t,scaledImageItem:a,hasPixelatedItems:r}){var n;const{reactOpen:i}=(0,f.A)("ReactLegacyProps"),l=(0,b.ok)(),{wrapperWidth:o}=a,c=(0,s.useRef)(null),u=`/?${(0,b.MM)(l.toString(),{ia:"images",iax:"images",iar:null,iaxm:null,iai:r?null:null!==(n=t.image)&&void 0!==n?n:null,prompt:null})}`,m=(0,s.useCallback)((e=>{e.preventDefault(),i("images","link-navigation",e.currentTarget.href,Object.assign({},b.Ay.__uv$setSource(__uv).__uv$location.state,{preventImagesVerticalAds:!0}))}),[t]),d=N(),g=(0,s.useCallback)((()=>{c.current&&c.current.scrollIntoView({block:"center",behavior:"smooth"})}),[c]),h=(0,s.useMemo)((()=>d?{}:{width:o}),[d,o]);return(0,R.jsxs)("li",{className:"pmq91M1H9uYaJG_lxmPg",style:h,ref:c,children:[(0,R.jsx)("a",{className:"oUvVIL0qU5bFEyQQS4Xg",href:u,onClick:m,"aria-label":t.title,children:(0,R.jsx)(L.A,{className:"PKoePAd27Rvkn8lN5Kqt",alt:t.title,src:(0,M.x)(t.thumbnail,{token:t.thumbnail_token,origin:"images"}),loading:"lazy",removeOnError:!0})}),!!t.url&&(0,R.jsx)(S,{title:t.title,domain:(0,_.EW)(t.url).replaceAll("www.",""),url:t.url,iaItem:e,onMenuOpen:g})]},t.thumbnail)}));a(46449),a(93514);var F=a(27285),D=a(80600);const T=150,W=180,V=150,U=2,G=12;var X=a(31871),q=a(35009),J=a(9223),B=a(45113),Q=a(73672),Y=a(50592);function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[__uv.$wrap((t))]?arguments[__uv.$wrap((t))]:{};t%2?Z(Object(a),!0).forEach((function(t){(0,i.A)(e,t,a[__uv.$wrap((t))])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function H({item:e}){const{fire:t}=(0,q.A)(),{aiImageFilterSettingValue:a,toggleAIImageFilter:r}=(0,Q.k)(),{sharedImages:n,generateFetchImagesUrl:i,imagesCache:o,setSharedImages:I}=(0,J.Y)(),[A,y]=(0,s.useState)(!1),O=(0,f.A)("settings",["kp"]),k=(0,s.useRef)(null),{reactOpen:E}=(0,f.A)("ReactLegacyProps"),S=(0,l.X)(),L=(0,s.useSyncExternalStore)(S.subscribe,(()=>S.getSnapshot().isAdultQuery)),M=(0,s.useSyncExternalStore)(S.subscribe,(()=>S.getSnapshot().rqd)),[_,C]=(0,s.useState)(""),{translate:Y,Translate:Z}=(0,x.A)(),{fireEngagement:H,fireViewMoreItemsInVertical:ee,fireExternalLinkClick:te}=(0,p.A)(e),ae=(0,s.useMemo)((()=>n&&n.results?null==n?void 0:n.results.filter((e=>null!=e.thumbnail&&null!=e.height&&null!=e.width)):[]),[null==n?void 0:n.results]),re="true"===String(null==n?void 0:n.is_pixelated)||"1"===String(null==n?void 0:n.is_pixelated),ne=(0,b.ok)(),ie=`/?${(0,b.MM)(ne.toString(),{ia:"images",iax:"images",iar:null,iaxm:null,iai:null,iaf:null,prompt:null})}`,se=(0,s.useCallback)((e=>{e.preventDefault(),ee(),E("images","link-navigation",ie)}),[ee,E,ie]),le=(0,s.useRef)(a),{requery:oe}=(0,f.A)("ReactLegacyProps"),ce=(0,s.useCallback)((()=>{oe(),"1"===a&&r()}),[oe,a]),ue=function({items:e,containerRef:t}){const a=N(),{width:r}=(0,D.o)(t,{ignoreChangesWhenElementHasNoSize:!0,useGetBoundingClientRect:!0});return(0,s.useMemo)((()=>{if(!r)return[];const t=function(e){return e/2-G/2}(r),n=(0,F.m)(e,{containerWidth:r,rowHeight:a?T:W,tileMinWidth:a?t:V,gap:G});return a?[n.flat().slice(0,4)]:n.slice(0,U)}),[e,r,a])}({items:ae,containerRef:k}),me=(0,v.IP)(null!=M?M:"","Image").trim();(0,s.useEffect)((()=>{if(le.current!==a)return y(!0),void(le.current=a)}),[le,a]),(0,s.useEffect)((()=>{C(i({options:{requestProductAds:!1},filters:z({},"1"===a?{hide_ai_images:a}:{})}))}),[i,a]);const{payloads:de,error:ge,isLoading:he}=(0,B._)(_,{refreshOnUpdate:A&&!!_,cache:o,append:!1,forceNoResults:!(!L||"1"!==String(O.get("kp")))});(0,s.useEffect)((()=>{de.length&&I(de[__uv.$wrap((0))])}),[de]);const pe=(0,s.useMemo)((()=>ge?(t("images_ia_error",{msg:ge.message}),(0,R.jsx)(K,{})):!ae.length&&A?(t("images_ia_no_results"),(0,R.jsx)($,{displayQuery:me})):(0,R.jsx)("ul",{className:w()(j.mosaic,{[j.isLoading]:he}),children:ue.map(((t,a)=>(0,R.jsx)("li",{className:j.mosaicRowWrapper,children:(0,R.jsx)("ul",{className:j.mosaicRow,children:t.map((t=>{const a=ae[__uv.$wrap((t.itemIndex))];return(0,R.jsx)(P,{iaItem:e,imageItem:a,scaledImageItem:t,hasPixelatedItems:re,onExternalLinkClick:te},a.image)}))})},a)))})),[A,me,ae,ge,re,ue,he,ce,te,e]);return ae.length||A?(0,R.jsx)(h.A,{ref:k,onEngagement:H,className:j.root,headerSlot:(0,R.jsxs)("div",{className:j.headerContainer,children:[(0,R.jsx)(m.y,{className:j.truncatedTitle,showIconOnMobile:!0,icon:(0,R.jsx)(c,{className:j.titleIcon,width:16,height:16}),href:ie,onClick:se,tooltipTitle:me?Y("IMAGES_FOR_TOOLTIP",me):Y("IMAGES"),children:me?(0,R.jsx)(Z,{as:"span",i18nkey:"IMAGES_FOR",params:[me]}):(0,R.jsx)(Z,{as:"span",i18nkey:"IMAGES"})}),(0,R.jsx)(X.A,{})]}),bodySlot:pe,footerSlot:!ae.length&&A?(0,R.jsx)("hr",{className:j.moduleDivider}):(0,R.jsx)(u.Z,{href:ie,onClick:se,children:Y("MORE_IMAGES")}),attributionAndFeedbackLineSlot:(0,R.jsx)(d.A,{feedbackPrompt:(0,R.jsx)(g.A,{variant:"thumbs",category:"images",ctxData:null,shuffleOptions:!0,vertical:"web"})})}):null}function K(){const{Translate:e}=(0,x.A)();return(0,R.jsx)("div",{"data-testid":"error-state",className:j.errorContainer,children:(0,R.jsx)(e,{as:"p",i18nkey:"IMAGES_IA_LOADING_ERROR",className:j.errorMessage,params:[`<a href="${window.__uv$setSource(__uv).__uv$location.href}" class="${j.errorRetryLink}">`,"</a>"]})})}function $({displayQuery:e}){const{translate:t,Translate:a}=(0,x.A)(),{aiImageFilterSettingValue:r,toggleAIImageFilter:n}=(0,Q.k)();return(0,R.jsxs)("div",{"data-testid":"no-results-state",className:j.noResultsContainer,children:[(0,R.jsx)(I.xL,{as:"p",variant:"title-02",children:(0,R.jsx)(a,{tagName:"span",i18nkey:"NO_RESULTS_FOR_IMAGES_QUERY",params:[(0,R.jsx)("b",{children:e},"query")]})}),"1"===r&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(I.xL,{as:"p",variant:"body-emphasis",className:j.noResultsText,children:t("NO_RESULTS_AI_FILTER_APPLIED")}),(0,R.jsx)(Y.A,{variant:"primary",onClick:n,className:j.clearFilterButton,children:t("AI_FILTER_CLEAR")})]})]})}}}]);