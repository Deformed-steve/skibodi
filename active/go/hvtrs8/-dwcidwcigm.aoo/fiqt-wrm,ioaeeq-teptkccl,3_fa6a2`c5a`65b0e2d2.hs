"use strict";(self.webpackChunkddg=self.webpackChunkddg||[]).push([[9240],{10560:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(96472),i=n(40356);const a={sentinel:"C4vP1bDU15qx3bGDLC9G"};var s=n(97284);function l({isActive:e,onInViewChange:t}){(0,r.useLayoutEffect)((()=>{e&&t(!0)}),[e,t]);const{ref:n}=(0,i.A)({threshold:0,initialInView:!0,onChange:e=>{t(e)}});return(0,s.jsx)("div",{className:a.sentinel,ref:n})}},87684:(e,t,n)=>{n.d(t,{A:()=>i}),n(23792),n(62953);var r=n(96472);function i(){const[e,t]=(0,r.useState)(window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window||navigator.maxTouchPoints>0);return(0,r.useEffect)((()=>{const e=window.matchMedia("(pointer: coarse)"),n=e=>t(e.matches);return"function"==typeof e.addEventListener?(e.addEventListener("change",n),()=>e.removeEventListener("change",n)):(e.addListener(n),()=>{e.removeListener(n)})}),[]),e}},20319:(e,t,n)=>{n.d(t,{A:()=>i}),n(23792),n(62953);var r=n(96472);function i(e,t,n,i,{maxRestoredUrls:a}={maxRestoredUrls:5}){const s=(0,r.useRef)(!1),l=(0,r.useRef)(e),o=(0,r.useRef)(new Set);return(0,r.useEffect)((()=>{null!=l.current&&(i(l.current)?s.current=!0:t&&!s.current&&o.current.size<=a&&(o.current.add(t),n()))}),[t,n,i,a]),(0,r.useCallback)((()=>{s.current=!0}),[])}},43876:(e,t,n)=>{n.d(t,{A:()=>i}),n(23792),n(62953);var r=n(96472);function i({containerRef:e,onNext:t,onPrev:n,transition:i="transform 0.2s linear",swipeThreshold:s=100,isSwipingRef:l,preventSwipeRef:o,swipeDirectionThreshold:c=1.5}){const d=(0,r.useRef)(0),u=(0,r.useRef)(0),h=(0,r.useRef)(null),m=(0,r.useRef)(0),f=(0,r.useRef)(!1),[g,v]=(0,r.useState)(null),[p,x]=(0,r.useState)(null),[E,k]=(0,r.useState)(null),L=(0,r.useCallback)((e=>{v(e)}),[]),A=(0,r.useCallback)((e=>{x(e)}),[]),y=(0,r.useCallback)((e=>{k(e)}),[]),R=(0,r.useMemo)((()=>[g,p,E].filter((e=>!!e))),[g,p,E]),I=(0,r.useCallback)((e=>{e.currentTarget instanceof HTMLElement&&e.currentTarget.removeEventListener("transitionend",I),R.forEach((e=>{e.style.transition=""})),f.current=!1,l.current=!1,null==t||t()}),[t,R,l]),_=(0,r.useCallback)((e=>{e.currentTarget instanceof HTMLElement&&e.currentTarget.removeEventListener("transitionend",_),R.forEach((e=>{e.style.transition=""})),f.current=!1,l.current=!1,null==n||n()}),[n,R,l]),b=(0,r.useCallback)((e=>{e.currentTarget instanceof HTMLElement&&e.currentTarget.removeEventListener("transitionend",b),R.forEach((e=>{e.style.transition=""})),f.current=!1,l.current=!1}),[R,l]),S=(0,r.useCallback)((e=>{f.current||o.current||e.touches.length>1||(d.current=e.touches[0].clientX,u.current=e.touches[0].clientY,m.current=0,h.current=null)}),[o]),w=(0,r.useCallback)((e=>{if(f.current||e.touches.length>1||o.current)return;const t=e.touches[0].clientX-d.current,n=e.touches[0].clientY-u.current,r=e=>{m.current=e,m.current>0&&!g||m.current<0&&!E?m.current=0:(l.current=!0,R.forEach((e=>{e.style.transform=a(m.current,{prevNode:g,currNode:p,nextNode:E})})))};switch(h.current){case"horizontal":e.preventDefault(),r(t);break;case"vertical":break;default:{const e=Math.abs(t),i=Math.abs(n);e>i*c?(h.current="horizontal",r(t)):i>e*c&&(h.current="vertical");break}}}),[o,g,E,l,R,p,c]),j=(0,r.useCallback)((e=>{f.current||e.touches.length>1||o.current||(m.current?(f.current=!0,R.forEach((e=>{e.style.transition=i})),m.current>s?(null==p||p.addEventListener("transitionend",_),R.forEach((e=>{e.style.transform=a(e.offsetWidth,{prevNode:g,currNode:p,nextNode:E})}))):m.current<-s?(null==p||p.addEventListener("transitionend",I),R.forEach((e=>{e.style.transform=a(-1*e.offsetWidth,{prevNode:g,currNode:p,nextNode:E})}))):(m.current=0,null==p||p.addEventListener("transitionend",b),R.forEach((e=>{e.style.transform=a(m.current,{prevNode:g,currNode:p,nextNode:E})})))):l.current=!1)}),[_,I,b,g,p,E,R,i,s,o,l]);return(0,r.useEffect)((()=>{const t=e.current;if(t)return t.addEventListener("touchstart",S),t.addEventListener("touchmove",w,{passive:!1}),t.addEventListener("touchend",j),()=>{t.removeEventListener("touchstart",S),t.removeEventListener("touchmove",w),t.removeEventListener("touchend",j)}}),[e,j,w,S]),(0,r.useLayoutEffect)((()=>(R.forEach((e=>{e.style.transform=a(0,{prevNode:g,currNode:p,nextNode:E})})),f.current=!1,l.current=!1,()=>{R.forEach((e=>{e.removeEventListener("transitionend",_),e.removeEventListener("transitionend",I),e.removeEventListener("transitionend",b)}))})),[l,g,p,E,R,_,I,b]),{prevRef:L,currRef:A,nextRef:y,onNextAnimated:(0,r.useCallback)((()=>{f.current=!0,R.forEach((e=>{e.style.transition=i})),null==p||p.addEventListener("transitionend",I),R.forEach((e=>{e.style.transform=a(-1*e.offsetWidth,{prevNode:g,currNode:p,nextNode:E})}))}),[R,g,p,E,i,I]),onPrevAnimated:(0,r.useCallback)((()=>{f.current=!0,R.forEach((e=>{e.style.transition=i})),null==p||p.addEventListener("transitionend",_),R.forEach((e=>{e.style.transform=a(e.offsetWidth,{prevNode:g,currNode:p,nextNode:E})}))}),[R,g,p,E,i,_])}}function a(e,{prevNode:t,currNode:n,nextNode:r}){return t&&n?e?`translateX(calc(-100% ${e>=0?"+":"-"} ${Math.abs(e)}px))`:"translateX(-100%)":e?`translateX(${e}px)`:""}},84887:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ce});var r=n(13461),i=(n(23792),n(69085),n(27495),n(38781),n(25440),n(5746),n(62953),n(48408),n(96472)),a=n(5049),s=n.n(a),l=n(69700),o=n(28515),c=n(12100),d=(n(11392),n(3296),n(27208),n(5051)),u=n(79673),h=n(51720),m=n(41951);const f="ao43BADemycvBKdaqvqL";var g=n(32144),v=n(83360),p=n(97284);const x=(0,i.memo)((function({className:e,onClick:t,image:n,scaledHeight:r,selected:a,externalLinkTarget:l,onExternalLinkClick:o}){var c;const x=(0,i.useRef)(null),E=(0,i.useMemo)((()=>{let e=n.url?new URL(n.url).hostname:"";return e.startsWith("www.")&&(e=e.replace(/^www./,"")),e}),[n.url]),k=(0,i.useCallback)((()=>{x.current&&x.current.scrollIntoView({block:"center",behavior:"smooth"})}),[x]),[L,A]=(0,i.useState)(!1);return(0,p.jsxs)("figure",{ref:x,className:s()("nsogf_Hpj9UUxfhcwQd5",{G6kC6_5XTtTbn8svxMfa:a},e),onClick:()=>{t(n.image)},children:[(0,p.jsx)("div",{className:"SZ76bwIlqO8BBoqOLqYV",children:L?(0,p.jsx)("div",{style:{height:`${r}px`}}):(0,p.jsx)(d.A,{onError:()=>A(!0),src:(0,u.x)(n.thumbnail,{token:n.thumbnail_token,origin:"images"}),alt:n.title,loading:"lazy",style:{width:"100%",height:`${r}px`,minHeight:`${r}px`,maxHeight:`${r}px`}})}),(0,p.jsx)("div",{className:"dBsnJT3ro3jlvaNuNree",children:(0,p.jsx)("figcaption",{className:"UYaxtNydlKgKE5GMesfo",children:(0,p.jsxs)(m.A,{href:n.url,rel:"noopener",onClick:e=>{e.stopPropagation(),null==o||o(e)},target:l,backDataId:"image_vertical",className:"glVIZiT_2b6uetnI4UYI",children:[!!n.title&&(0,p.jsx)(h.xL,{as:"h3",variant:"caption",title:n.title,className:s()("e4nZzm_XfSekTmIwL7pz",f),children:n.title}),(0,p.jsxs)("div",{className:"Kdsm4X_ZlYO8gy50J62Q",children:[(0,p.jsxs)("div",{className:"UV_wbcGQNaQE445Rox7V",children:[(0,p.jsx)(v.A,{url:n.url}),!!E&&(0,p.jsx)(h.xL,{as:"p",variant:"label",className:s()("iHufrGzRLnW5Wh3koaLG",f),title:E,children:E})]}),(0,p.jsx)(g.A,{vertical:"images",imageUrl:null!==(c=n.url)&&void 0!==c?c:"",domain:E,onMenuOpen:k,variant:"xSmall",feedbackLocation:"vertical"})]})]})})})]})}));var E=n(80600),k=n(22520),L=n(43876),A=(n(39469),n(7014));function y({containerRef:e,targetRef:t,isZoomingRef:n,preventZoomRef:r,transition:a="transform 0.2s ease-out",maxZoom:s=6,doubleTapThreshold:l=300,doubleTapZoomLevel:o=2,disableDoubleTapToZoom:c,onZoomActionEnd:d}){var u;const h=null!==(u=(0,A.Ay)("(prefers-reduced-motion: reduce)",!0))&&void 0!==u&&u?"transform 0.2s linear":a,m=(0,i.useRef)(!1),f=(0,i.useRef)(1),g=(0,i.useRef)(0),v=(0,i.useRef)(0),p=(0,i.useRef)([]),x=(0,i.useRef)(null),E=(0,i.useRef)(!1);(0,i.useEffect)((()=>{const i=t.current,a=e.current;if(!i||!a)return;a.style.touchAction="pan-y";const u=()=>{i&&(i.style.transform=`translate(${g.current}px, ${v.current}px) scale(${f.current})`)},k=e=>{r.current||m.current||(E.current=!1,i.style.transition="",2===e.touches.length?p.current=[...e.touches]:1===e.touches.length&&(p.current=[e.touches[0]]))},L=e=>{if(!r.current&&!m.current)if(i.style.transition="",f.current>1&&e.preventDefault(),2===e.touches.length){const[t,r]=e.touches,[i,a]=p.current;if(i&&a){const e=(e,t)=>Math.hypot(e.clientX-t.clientX,e.clientY-t.clientY),l=e(i,a),o=e(t,r);let c=f.current*(o/l);c=Math.min(s,Math.max(1,c)),c!==f.current&&(E.current=!0),f.current=c,n.current=c>1}p.current=[...e.touches],u()}else if(1===e.touches.length&&f.current>1){const[t]=e.touches,[n]=p.current;n&&(g.current+=t.clientX-n.clientX,v.current+=t.clientY-n.clientY,t.clientX-n.clientX==0&&t.clientY-n.clientY==0||(E.current=!0),u()),p.current=[t]}},A=e=>{if(!r.current&&!m.current){if(!c&&0===e.touches.length&&1===e.changedTouches.length){const r=Date.now();if((null==x.current?1/0:r-x.current)<l){var k;const r=e.changedTouches[0],l=null===(k=e.changedTouches[0])||void 0===k?void 0:k.target;let c=!1;var L;if(f.current>1)f.current=1,g.current=0,v.current=0,n.current=!1;else if(l instanceof Node&&null!==(L=t.current)&&void 0!==L&&L.contains(l)){f.current=Math.min(s,o);const e=a.getBoundingClientRect(),t=r.clientX-e.left,i=r.clientY-e.top;g.current=e.width/2-t,v.current=e.height/2-i,n.current=!0}else c=!0;c||(E.current=!0,i.style.transition=h,m.current=!0,i.addEventListener("transitionend",(function e(){m.current=!1,i.style.transition="",i.removeEventListener("transitionend",e)})),u())}x.current=r}if(2===e.touches.length?p.current=[...e.touches]:1===e.touches.length&&(p.current=[e.touches[0]]),f.current<1.01)n.current=!1,f.current=1,g.current=0,v.current=0,u();else{const e=a.getBoundingClientRect(),t=e.width,n=e.height,r=i.offsetWidth*f.current,s=i.offsetHeight*f.current;let l=g.current,o=v.current;if(r<=t)l=0;else{const e=t/2-r/2,n=r/2-t/2;l=Math.max(e,Math.min(n,l))}if(s<=n)o=0;else{const e=n/2-s/2,t=s/2-n/2;o=Math.max(e,Math.min(t,o))}const c=l!==g.current||o!==v.current;if(g.current=l,v.current=o,c){m.current=!0,i.style.transition=h;const e=()=>{m.current=!1,i.style.transition="",i.removeEventListener("transitionend",e)};i.addEventListener("transitionend",e)}u()}E.current&&(null==d||d())}};return a.addEventListener("touchstart",k),a.addEventListener("touchmove",L,{passive:!1}),a.addEventListener("touchend",A),a.addEventListener("touchcancel",A),()=>{a.style.touchAction="",a.removeEventListener("touchstart",k),a.removeEventListener("touchmove",L),a.removeEventListener("touchend",A),a.removeEventListener("touchcancel",A)}}),[t,e,r,n,h,s,l,o,c,d])}var R=n(49599),I=n(99418),_=n(60608),b=n(1583),S=n(94004),w=n(87684);const j={root:"tuO47VfYLXtuDpBJSjrV",inlineVariant:"nuiECLDXQ1mjeN7FEI6G",top:"WRx_xSx51EXkymGmPRNJ",closeBtn:"atb_EoiqSwL3RLLeT13U",middle:"UVDyfXYBufh5n7HS431B",inlineVariantCarouselPane:"XkLPXSx75VKPFICzKfew",media:"Rk2wUJtojusmgpR6M74v",imgLinkWrapper:"lSpcEzfcIdotTSKU_xVm",imgWrapper:"a9f1oOLP2m_g5husSdPi",meta:"lZTt8ahBdhJNtfuqVYH3",titleLink:"cDBS1NG1heIjvj7RHIPP",viewFileBtn:"Gr22SUHQb8xKdEwTxIxe",bottom:"sQZjDD5BBgMCg_wdFtZq",prevNext:"mVNu8kS4MibD9Y4Io2oL",fullScreenVariant:"JXU6pi6AhdZWI3Xohvfd",menuBtn:"nTzsC0FEHqTYWzy2Lgwf",fullScreenVariantCarouselPane:"ARegRZbMqxI9JfJA__kH",metaContent:"Vmt6QW1sRD5YzN3hfRP0",left:"xXb514rfIBS34mP563T_",right:"zB49JqwsTwqI8S8RwHYv",hidden:"g3HLozDWGEflS5GQWmwQ",mediaBtn:"VxuWnm3couqnzN7fT7SO"};var C=n(46588);const N=(0,i.memo)(d.v);function M({className:e,variant:t,height:n,image:r,nextImage:a,prevImage:l,onNext:o,onPrev:c,onClose:d,externalLinkTarget:u,onExternalLinkClick:h,onBodyScrollLockRemoved:m}){return(0,i.useLayoutEffect)((()=>{if("full-screen"===t){const e=window.scrollY;document.body.classList.add("no-scroll"),document.documentElement.classList.add("no-swipe-to-refresh");const t=document.documentElement.style.paddingRight;return document.documentElement.style.paddingRight=window.innerWidth-document.documentElement.clientWidth+"px",()=>{document.body.classList.remove("no-scroll"),document.documentElement.classList.remove("no-swipe-to-refresh"),document.documentElement.style.paddingRight=t,null==m||m(),window.scrollTo(0,e)}}}),[t,m]),(0,p.jsxs)("aside",{style:"inline"===t?{height:n}:void 0,className:s()(j.root,e),children:["inline"===t&&(0,p.jsx)(O,{image:r,nextImage:a,prevImage:l,onNext:o,onPrev:c,onClose:d,externalLinkTarget:u,onExternalLinkClick:h}),"full-screen"===t&&(0,p.jsx)(P,{image:r,nextImage:a,prevImage:l,onNext:o,onPrev:c,onClose:d,externalLinkTarget:u,onExternalLinkClick:h})]})}function O({className:e,image:t,nextImage:n,prevImage:r,onNext:a,onPrev:l,onClose:o,externalLinkTarget:c,onExternalLinkClick:d}){var u,h,m;const f=(0,i.useRef)(!1),v=(0,i.useRef)(!1),x=(0,i.useRef)(null),{prevRef:E,currRef:k,nextRef:A}=(0,L.A)({containerRef:x,onPrev:l,onNext:a,isSwipingRef:v,preventSwipeRef:f});return(0,p.jsxs)("div",{className:s()(j.inlineVariant,e),children:[(0,p.jsxs)("div",{className:j.top,children:[!(!n&&!r)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(R.P,{className:j.mediaBtn,disabled:!r,variant:"secondary",forceDarkModeVariant:!0,"aria-label":"Previous",size:"small",onClick:l,children:(0,p.jsx)(I.A,{type:"left"})}),(0,p.jsx)(R.P,{className:j.mediaBtn,disabled:!n,variant:"secondary",forceDarkModeVariant:!0,"aria-label":"Next",size:"small",onClick:a,children:(0,p.jsx)(I.A,{type:"right"})})]}),(0,p.jsx)(g.A,{vertical:"images",imageUrl:null!==(u=t.url)&&void 0!==u?u:"",domain:null!==(h=(0,C.EW)(null!==(m=t.url)&&void 0!==m?m:""))&&void 0!==h?h:"",forceDarkModeVariant:!0,menuBtnVariant:"secondary",feedbackLocation:"detail_view"}),(0,p.jsx)(R.P,{className:s()(j.mediaBtn,j.closeBtn),variant:"secondary",forceDarkModeVariant:!0,size:"small",onClick:()=>{f.current=!1,v.current=!1,null==o||o()},children:(0,p.jsx)(I.A,{type:"close"})})]}),(0,p.jsx)("div",{className:j.middle,ref:x,children:[{ref:E,data:r},{ref:k,data:t},{ref:A,data:n}].map((({ref:e,data:n},r)=>{var i;return n?(0,p.jsx)(T,{ariaHidden:n!==t,image:n,ref:e,isZoomingRef:f,isSwipingRef:v,onExternalLinkClick:d,externalLinkTarget:c},`${null!==(i=n.image)&&void 0!==i?i:n.thumbnail}_${r}`):null}))})]})}const T=(0,i.forwardRef)((function({className:e,image:t,ariaHidden:n,isZoomingRef:r,isSwipingRef:a,externalLinkTarget:l,onExternalLinkClick:o},c){const{translate:d}=(0,_.A)(),f=(0,i.useRef)(null),{width:g=0,height:v=0}=(0,E.o)(f),x=(0,i.useRef)(null),L=(0,w.A)();y({containerRef:f,targetRef:x,isZoomingRef:r,preventZoomRef:a,disableDoubleTapToZoom:!L});const{width:A,height:R}=(0,i.useMemo)((()=>(0,k.eh)({containerWidth:g,containerHeight:v,imageWidth:t.width,imageHeight:t.height})),[g,v,t.width,t.height]),I=(0,i.useMemo)((()=>{let e=t.url?new URL(t.url).hostname:"";return e.startsWith("www.")&&(e=e.replace(/^www./,"")),e}),[t.url]),b=(0,p.jsx)(N,{className:j.imgWrapper,ref:x,width:`${A}px`,height:`${R}px`,alt:t.title,highResSrc:t.image?(0,u.x)(t.image,{token:t.image_token,noFallback:!0}):void 0,src:(0,u.x)(t.thumbnail,{token:t.thumbnail_token}),loading:n?"lazy":"eager"});return(0,p.jsxs)("div",{className:s()(j.inlineVariantCarouselPane,e),ref:c,"aria-hidden":n,children:[(0,p.jsx)("div",{className:j.media,ref:f,children:L?b:(0,p.jsx)(m.A,{href:t.url,rel:"noopener",className:j.imgLinkWrapper,target:"_blank",onClick:o,backDataId:"image_vertical",children:b})}),(0,p.jsxs)("div",{className:j.meta,children:[!!t.title&&(0,p.jsx)(m.A,{href:t.url,rel:"noopener",className:j.titleLink,target:l,onClick:o,backDataId:"image_vertical",children:(0,p.jsx)(h.xL,{as:"h2",variant:"title-02-emphasis",dangerouslySetInnerHTML:{__html:t.title}})}),!!I&&(0,p.jsx)(h.xL,{as:"p",variant:"caption",children:(0,p.jsx)(m.A,{href:t.url,rel:"noopener",className:j.domainLink,target:l,onClick:o,backDataId:"image_vertical",children:I})}),null!=!!t.width&&null!=!!t.height&&(0,p.jsxs)(h.xL,{as:"p",variant:"caption",children:[t.width," × ",t.height]}),!!t.image&&(0,p.jsx)(m.A,{href:t.image,rel:"noopener",buttonVariant:"secondary",forceDarkModeVariant:!0,className:j.viewFileBtn,target:"_blank",onClick:o,backDataId:"image_vertical",children:d("VIEW_FILE")})]})]})}));function P({className:e,image:t,nextImage:n,prevImage:r,onNext:a,onPrev:l,onClose:o,externalLinkTarget:c,onExternalLinkClick:d}){var u,h,m;const f=(0,i.useRef)(null),{width:v=0,height:x=0}=(0,E.o)(f),k=(0,i.useRef)(!1),A=(0,i.useRef)(!1),{prevRef:y,currRef:_,nextRef:b}=(0,L.A)({containerRef:f,onPrev:l,onNext:a,isSwipingRef:A,preventSwipeRef:k});return function(e,t,{distanceThreshold:n=50,velocityThreshold:r=.3}={}){const a=(0,i.useRef)(null),s=(0,i.useRef)(null);(0,i.useEffect)((()=>{const i=e.current;if(!i)return;const l=e=>{a.current=e.touches[0].clientY,s.current=Date.now()},o=e=>{if(null===a.current||null===s.current)return;const i=e.changedTouches[0].clientY,l=Date.now(),o=a.current-i,c=o/(l-s.current);Math.abs(o)>n&&Math.abs(c)>r&&(e.preventDefault(),o>0?t("up"):o<0&&t("down")),a.current=null,s.current=null},c=()=>{a.current=null,s.current=null};return i.addEventListener("touchstart",l),i.addEventListener("touchend",o,{passive:!1}),i.addEventListener("touchcancel",c),()=>{i.removeEventListener("touchstart",l),i.removeEventListener("touchend",o),i.removeEventListener("touchcancel",c)}}),[e,t,n,r])}(f,(0,i.useCallback)((()=>{k.current||A.current||null==o||o()}),[o])),(0,p.jsxs)("div",{className:s()(j.fullScreenVariant,e),ref:f,children:[(0,p.jsxs)("div",{className:j.top,children:[(0,p.jsx)(g.A,{vertical:"images",imageUrl:null!==(u=t.url)&&void 0!==u?u:"",domain:null!==(h=(0,C.EW)(null!==(m=t.url)&&void 0!==m?m:""))&&void 0!==h?h:"",forceDarkModeVariant:!0,menuBtnVariant:"secondary",feedbackLocation:"detail_view"}),(0,p.jsx)(R.P,{className:s()(j.mediaBtn,j.closeBtn),variant:"secondary",forceDarkModeVariant:!0,size:"small",onClick:()=>{k.current=!1,A.current=!1,null==o||o()},children:(0,p.jsx)(I.A,{type:"close"})})]}),[{ref:y,data:r},{ref:_,data:t},{ref:b,data:n}].map((({ref:e,data:n},r)=>{var i;return n?(0,p.jsx)(D,{image:n,containerWidth:v,containerHeight:x,ariaHidden:n!==t,ref:e,isZoomingRef:k,isSwipingRef:A,externalLinkTarget:c,onExternalLinkClick:d},`${null!==(i=n.image)&&void 0!==i?i:n.thumbnail}_${r}`):null}))]})}const D=(0,i.forwardRef)((function({image:e,containerWidth:t,containerHeight:n,ariaHidden:r,isZoomingRef:a,isSwipingRef:l,externalLinkTarget:o,onExternalLinkClick:c},d){const[f,g]=(0,i.useState)(!0),{translate:v}=(0,_.A)(),x=(0,i.useRef)(null),E=(0,i.useRef)(null),L=function(e,{onSingleTap:t,threshold:n=300}){const r=(0,i.useRef)(null),a=(0,i.useCallback)((()=>{r.current&&(clearTimeout(r.current),r.current=null)}),[]);return(0,i.useEffect)((()=>{const i=e.current;if(!i)return;const s=e=>{0===e.touches.length&&1===e.changedTouches.length&&(a(),r.current=setTimeout((()=>{t(e),r.current=null}),n))};return i.addEventListener("touchend",s),()=>{i.removeEventListener("touchend",s),a()}}),[e,n,t,a]),a}(E,{onSingleTap:(0,i.useCallback)((()=>{l.current||g((e=>!e))}),[l])});y({containerRef:x,targetRef:E,isZoomingRef:a,preventZoomRef:l,onZoomActionEnd:L});const A=(0,i.useCallback)((e=>{(0,S.P)(x,d)(e)}),[d]),{width:R,height:I}=(0,i.useMemo)((()=>(0,k.eh)({containerWidth:t,containerHeight:n,imageWidth:e.width,imageHeight:e.height})),[t,n,e.width,e.height]),w=(0,i.useMemo)((()=>{let t=e.url?new URL(e.url).hostname:"";return t.startsWith("www.")&&(t=t.replace(/^www./,"")),t}),[e.url]);return(0,p.jsxs)("div",{className:j.fullScreenVariantCarouselPane,ref:A,"aria-hidden":r,children:[(0,p.jsx)("div",{className:j.media,children:(0,p.jsx)(N,{className:j.imgWrapper,ref:E,width:`${R}px`,height:`${I}px`,alt:e.title,highResSrc:e.image?(0,u.x)(e.image,{token:e.image_token}):void 0,src:(0,u.x)(e.thumbnail,{token:e.thumbnail_token}),loading:r?"lazy":"eager"})}),(0,p.jsxs)("div",{className:s()(j.meta,{[j.hidden]:!f}),children:[!!e.title&&(0,p.jsx)(m.A,{href:e.url,rel:"noopener",className:j.titleLink,target:o,onClick:c,backDataId:"image_vertical",children:(0,p.jsx)(h.xL,{as:"h2",variant:"title-02-emphasis",dangerouslySetInnerHTML:{__html:e.title}})}),(0,p.jsxs)("div",{className:j.metaContent,children:[(0,p.jsxs)("div",{className:j.left,children:[!!w&&(0,p.jsx)(h.xL,{as:"span",variant:"body",children:(0,p.jsx)(m.A,{href:e.url,rel:"noopener",className:j.domainLink,target:o,onClick:c,backDataId:"image_vertical",children:(0,p.jsx)(b.A,{as:"span",inline:!0,children:w})})}),null!=!!e.width&&null!=!!e.height&&(0,p.jsxs)(h.xL,{as:"p",variant:"caption",children:[e.width," × ",e.height]})]}),(0,p.jsx)("div",{className:j.right,children:!!e.image&&(0,p.jsx)(m.A,{href:e.image,rel:"noopener",buttonVariant:"secondary",forceDarkModeVariant:!0,className:j.viewFileBtn,target:"_blank",onClick:c,backDataId:"image_vertical",children:v("VIEW_FILE")})})]})]})]})}));var H=n(42895),B=n(33594),G=n(24911),V=n(27332),W=n(35920),F=n(31871);const U=["id","token"];function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const q=[{filterId:"time",options:[{id:"",token:"ANYTIME"},{id:"Day",token:"PAST_DAY"},{id:"Week",token:"PAST_WEEK"},{id:"Month",token:"PAST_MONTH"}]},{filterId:"size",options:[{id:"",token:"SIZE_ALL"},{id:"Small",token:"SIZE_SMALL"},{id:"Medium",token:"SIZE_MEDIUM"},{id:"Large",token:"SIZE_LARGE"},{id:"Wallpaper",token:"SIZE_WALLPAPER"}]},{filterId:"color",options:[{id:"",token:"IMAGE_COLOR_ALL"},{id:"color",token:"IMAGE_COLOR_ONLY"},{id:"Monochrome",token:"IMAGE_COLOR_BW"},{id:"Red",token:"COLOR_RED"},{id:"Orange",token:"COLOR_ORANGE"},{id:"Yellow",token:"COLOR_YELLOW"},{id:"Green",token:"COLOR_GREEN"},{id:"Blue",token:"COLOR_BLUE"},{id:"Purple",token:"COLOR_PURPLE"},{id:"Pink",token:"COLOR_PINK"},{id:"Brown",token:"COLOR_BROWN"},{id:"Black",token:"COLOR_BLACK"},{id:"Gray",token:"COLOR_GRAY"},{id:"Teal",token:"COLOR_TEAL"},{id:"White",token:"COLOR_WHITE"}]},{filterId:"type",options:[{id:"",token:"IMAGE_TYPE_ALL"},{id:"photo",token:"IMAGE_TYPE_PHOTO"},{id:"clipart",token:"IMAGE_TYPE_CLIPART"},{id:"gif",token:"IMAGE_TYPE_GIF"},{id:"transparent",token:"IMAGE_TYPE_TRANSPARENT"},{id:"line",token:"IMAGE_TYPE_LINEDRAWING"}]},{filterId:"layout",options:[{id:"",token:"IMAGE_LAYOUT_ALL"},{id:"Square",token:"IMAGE_LAYOUT_SQUARE"},{id:"Tall",token:"IMAGE_LAYOUT_TALL"},{id:"Wide",token:"IMAGE_LAYOUT_WIDE"}]},{filterId:"license",options:[{id:"",token:"IMAGE_LICENSE_ALL"},{id:"Any",token:"IMAGE_LICENSE_ALLCC"},{id:"Public",token:"IMAGE_LICENSE_PUBLICDOMAIN"},{id:"Share",token:"IMAGE_LICENSE_SHAREUSE"},{id:"ShareCommercially",token:"IMAGE_LICENSE_SHAREUSECOMMERCIAL"},{id:"Modify",token:"IMAGE_LICENSE_MODIFY"},{id:"ModifyCommercially",token:"IMAGE_LICENSE_MODIFYCOMMERCIAL",dividerBelow:!0},{id:"ImageFiltersLearnMore",token:"LEARN_MORE",href:"https://duckduckgo.com/duckduckgo-help-pages/features/image-license/",variant:"custom-link"}]}],X=(0,i.forwardRef)((function({className:e,isSticky:t,onRegionChange:n,showSafeSearch:r,onSafeSearchChange:i,selectedImageFilters:a,onImageFilterChange:s,onImageFilterOpen:l},o){const{translate:c}=(0,_.A)();return(0,p.jsxs)(W.A,{ref:o,className:e,variant:"sticky",isSticky:t,children:[(0,p.jsx)("li",{children:(0,p.jsx)(G.A,{onRegionChange:n,vertical:"images",onOpen:()=>{null==l||l("region")}})}),r&&(0,p.jsx)("li",{children:(0,p.jsx)(B.A,{onSafeSearchChange:i,vertical:"images",onOpen:()=>{null==l||l("safe_search")}})}),(0,p.jsx)("li",{children:(0,p.jsx)(F.A,{})}),q.map((({filterId:e,options:t})=>(0,p.jsx)("li",{children:(0,p.jsx)(Z,{filterId:e,selectedId:null==a?void 0:a[e],options:t.map(((e,t)=>{let{id:n,token:r}=e,i=(0,H.A)(e,U);return z(z({id:n,label:c(r)},"href"in i?{renderOption:()=>(0,p.jsx)(h.xL,{as:"a",href:i.href,linkVariant:"interactive",target:"_blank",children:c(r)})}:{}),{},{isDefault:0===t},i)})),onChange:s,onOpen:()=>{null==l||l(e)}})},e)))]})}));function Z({filterId:e,className:t,selectedId:n,options:r,onChange:i,onOpen:a}){return(0,p.jsx)(V.A,{className:t,items:r,mode:"filter",selected:r.find((e=>e.id===n)),onSelect:t=>{i(e,t.id)},onOpen:a,forceFixedPosition:!0})}var $=n(10560),Q=n(27285),K=n(58282),J=n(95840),ee=n(94561),te=n(83047),ne=n(65531),re=n(42638),ie=n(63860),ae=n(81724),se=n(50592),le=n(42519),oe=n(6536),ce=n(55238),de=n(93519),ue=n(33798),he=n(19944),me=n(29005),fe=n(38377),ge=n(63828),ve=n(1564),pe=n(43930),xe=n(95141),Ee=n(20319),ke=n(65725),Le=n(35009),Ae=n(35399),ye=n(67903),Re=n(30379);const Ie={root:"JfFALYdEgcyeDEjrtTpZ",withHorizontalPadding:"pM07g3Qex2ugpb05SQxi",withoutHorizontalPadding:"DC50GQI5dCqBBIczN33b",sectionHeading:"te0pc6_z2a0ynfbXyZSv",withBottomMargin:"RK_fPOXn1heWkbJ9BRzh",contentWrapper:"CWpd1G8aesXbBJgiTnPA",isDark:"J4SbpekqpRoQf4J3yCqy",isLoading:"J8veeOmI4fI9f0MfSQus",mosaic:"f7hWyMHaNjO2grO9HbyD",mosaicRow:"NsCLmRPk79Yvia9NrTjn",loadMoreWrapper:"BYL9K0VZws0fe2CNNmiP",noResults:"ITdmIuKdHQT8Kjb_YHrY",hidden:"_XzQ__gMihXKL7uMMxKZ",hideFloatingHeader:"voJKQGcG1hSji3WeDrCg",hasFloatingHeader:"cWkf4OWCsvKudiaNgWRE",filters:"pvrOgeizBBe_C5Uj1IRR",isSticky:"e1SanPej2HY4D_J_6aZ7",middleProductAdsContainer:"PhmpILNroFNAgQ6FNFWk"};var _e=n(73672),be=n(9223),Se=n(45113);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce({isActive:e,inlineVariantMediaQuery:t,isImagesVerticalProductAdsMarket:n}){var r,a,d,u,h,m,f,g,v,L;const{sharedImages:y,imagesCache:R,generateFetchImagesUrl:I}=(0,be.Y)(),{fireVerticalImpression:b,fireVerticalEngagement:S,fireVerticalGridItemClick:w,fireVerticalExternalLinkClick:j,fireVerticalNextResultsReceived:C,fireVerticalLoadMoreClick:N,fireVerticalDataFetchingError:O,fireVerticalFilterClick:T}=(0,le.r)("images"),{fire:P}=(0,Le.A)(),D=null!==(r=(0,A.Ay)("(prefers-reduced-motion: reduce)",!0))&&void 0!==r&&r;(0,i.useLayoutEffect)((()=>{if(e){const e=document.documentElement,t=e.style.scrollbarGutter;return e.style.scrollbarGutter="stable",()=>{e.style.scrollbarGutter=t}}}),[e]);const H=(0,i.useRef)(null),{width:B,forceUpdate:G}=(0,E.o)(H,{ignoreChangesWhenElementHasNoSize:!0,ignoreFixedBody:!0}),V=(0,i.useRef)(null),{height:W}=(0,E.o)(V,{ignoreChangesWhenElementHasNoSize:!0,useGetBoundingClientRect:!0}),[F,U]=(0,i.useState)(!0),Y=(0,A.KR)(),z=(0,A._6)(),q=(0,o.X)(),Z=(0,i.useSyncExternalStore)(q.subscribe,(()=>q.getSnapshot().query)),oe=(0,i.useSyncExternalStore)(q.subscribe,(()=>q.getSnapshot().isSafeDDG)),ce=(0,i.useSyncExternalStore)(q.subscribe,(()=>q.getSnapshot().isAdultQuery)),de=(0,i.useSyncExternalStore)(q.subscribe,(()=>q.getSnapshot().isBadImagesQuery)),ge=(0,i.useSyncExternalStore)(q.subscribe,(()=>q.getSnapshot().isFloatingHeaderVisible)),we=(0,c.A)("searchExperiments"),Ce=(0,ee.A)(),Oe=Y?8:20,{translate:Te}=(0,_.A)(),Pe=(0,c.A)("device"),De=(0,c.A)("settings",["kp","k1","kc","kae","kn"]),He=De.get("kp"),Be=!De.isDefault("kn"),{requery:Ge}=(0,c.A)("ReactLegacyProps"),Ve=!De.isDefault("k1"),We=De.isDefault("kc"),{aiImageFilterSettingValue:Fe,toggleAIImageFilter:Ue}=(0,_e.k)(),Ye=(0,l.ok)(),ze=Ye.get("iaf"),qe=(0,i.useMemo)((()=>ze?(0,te.q)(ze):{}),[ze]),Xe=!(!l.Ay.location.state||"object"!=typeof l.Ay.location.state||!("preventImagesVerticalAds"in l.Ay.location.state)||!l.Ay.location.state.preventImagesVerticalAds),Ze=(0,i.useRef)(Xe);(0,i.useEffect)((()=>{Xe&&l.Ay.replace({pathname:l.Ay.location.pathname,search:l.Ay.location.search},Object.assign({},l.Ay.location.state,{preventImagesVerticalAds:!1}))}),[Xe]);const $e=!(Ve||!n||!De.canShowSerpUxExp()||Ze.current||ze);(0,i.useEffect)((()=>{b(e,(()=>({prevent_ads:Ze.current?"1":"0"})))}),[b,e]);const[Qe,Ke]=(0,i.useState)(I({options:{requestProductAds:$e},filters:je(je({},qe),"1"===Fe?{hide_ai_images:Fe}:{})})),Je=(0,i.useMemo)((()=>null!=new URLSearchParams(Qe).get("s")),[Qe]);(0,i.useEffect)((()=>{Ke(I({options:{requestProductAds:$e},filters:je(je({},qe),"1"===Fe?{hide_ai_images:Fe}:{})})),q.dispatch((0,ne.createUpdateDuckbarLinkOverwrite)("images",`/?${(0,l.MM)(l.Ay.location.search,{iaf:(0,te.v)(qe)||null,iai:null})}`))}),[qe,Fe]);const{payloads:et,error:tt,refs:nt,isLoading:rt}=(0,Se._)(Qe,{cache:R,append:Je,forceNoResults:!(!ce||"1"!==String(He))});(0,i.useEffect)((()=>{var e,t;et.length>1&&C(null!==(e=null===(t=et.at(-1))||void 0===t||null===(t=t.results)||void 0===t?void 0:t.length)&&void 0!==e?e:0,et.length)}),[et,C]),(0,i.useEffect)((()=>{tt&&O()}),[tt,O]);const it=et.at(-1),at=null==it?void 0:it.next,st=it&&it.queryEncoded?null===(a=it.vqd)||void 0===a?void 0:a[it.queryEncoded]:null;(0,i.useEffect)((()=>{var e;null!=it&&null!==(e=it.ads)&&void 0!==e&&null!==(e=e.results)&&void 0!==e&&e.length&&P("images_request",{ads:"1"})}),[it,we,P]);const lt=(0,i.useCallback)((()=>{at&&Ke(I({options:{next:at,imagesVqd:null!=st?st:window.vqd,requestProductAds:$e},filters:je(je({},qe),"1"===Fe?{hide_ai_images:Fe}:{})}))}),[Z,at,st,qe,Fe]),ot=(0,i.useMemo)((()=>y?y.results.map((()=>(0,i.createRef)())):[]),[y]),ct=Object.keys(qe).length>0,dt=(0,i.useRef)(ct);dt.current=ct;const{results:ut,refs:ht}=(0,i.useMemo)((()=>{const e=[],t=[],n=new Set;return y&&"1"!==String(y.is_pixelated)&&"true"!==String(y.is_pixelated)&&!dt.current&&(!$e||$e&&(et.length>=1||!et.length&&tt))&&y.results.forEach(((r,i)=>{(0,k.EO)(r)&&(n.add((0,k.xX)(r)),e.push(r),t.push(ot[i]))})),et.forEach(((r,i)=>{r.results.forEach(((r,a)=>{if((0,k.EO)(r)){const s=(0,k.xX)(r);n.has(s)||(n.add(s),e.push(r),t.push(nt[i][a]))}}))})),{refs:t,results:e}}),[et,tt,nt,y,ot,$e]),mt=!1===rt&&0===ut.length,ft=(0,i.useCallback)((()=>{"1"===Fe&&Ue(),(0,ve.b)(null==De?void 0:De.get("kp"))&&!oe?(q.dispatch((0,ne.createUpdateSearchFormParamAction)("kp",ve.f.MODERATE)),Ge()):l.Ay.replace({pathname:l.Ay.location.pathname,search:`?${(0,l.MM)(l.Ay.location.search,{iaf:null,iai:null})}`},l.Ay.location.state)}),[oe,De,q,Ge,Fe,Ue]),gt=(0,i.useMemo)((()=>{const e=[];(0,ve.b)(null==De?void 0:De.get("kp"))&&!oe&&e.push("NO_RESULTS_FILTERS_APPLIED_SAFE_SEARCH"),"1"===Fe&&e.push("NO_RESULTS_FILTERS_APPLIED_HIDE_AI");const t={time:"NO_RESULTS_FILTERS_APPLIED_TIME",size:"NO_RESULTS_FILTERS_APPLIED_IMAGE_SIZE",color:"NO_RESULTS_FILTERS_APPLIED_COLOR",type:"NO_RESULTS_FILTERS_APPLIED_IMAGE_TYPE",layout:"NO_RESULTS_FILTERS_APPLIED_LAYOUT",license:"NO_RESULTS_FILTERS_APPLIED_LICENSE"};for(const[n,r]of Object.entries(t))n in qe&&e.push(r);return e}),[qe,oe,De,Fe]),vt=null===(d=et[0])||void 0===d?void 0:d.ads,pt=null==vt?void 0:vt.page_load_url,xt=null==vt?void 0:vt.visibility_url,Et=(0,xe.v)(),kt=null!=(null==it?void 0:it.next),Lt=(0,i.useMemo)((()=>B?(0,Q.m)(ut,{containerWidth:B,rowHeight:Pe.isMobile?150:180,tileMinWidth:Pe.isMobile?100:120,gap:Oe}):[]),[ut,B,Oe,Pe.isMobile]),At=Ye.get("iai"),yt=(0,i.useMemo)((()=>ut.findIndex(((e,t)=>(null==e?void 0:e.image)===At||At===t.toString()))),[ut,At]),Rt=(0,i.useMemo)((()=>Lt.findIndex((e=>e.some((e=>e.itemIndex===yt))))),[Lt,yt]),It=yt>-1?ht[yt]:null,_t=-1!==yt?ut[yt]:null,bt=yt>0?ut[yt-1]:null,St=yt<ut.length-1?ut[yt+1]:null,wt=(0,A.Ay)(null!=t?t:Pe.isMobileDevice?"(min-width: 591px) and (min-height: 768px)":"(min-width: 591px)",!0),[jt,Ct]=(0,i.useState)(wt);(0,i.useLayoutEffect)((()=>{null==_t&&Ct(wt)}),[wt,_t]);const Nt=(0,i.useRef)(Je);Nt.current=Je;const Mt=(0,i.useRef)(At);Mt.current=At,(0,i.useEffect)((()=>{Nt.current||Mt.current||(0,Ae.A)({top:0,behavior:D?"auto":"smooth"})}),[D,et]),(0,i.useLayoutEffect)((()=>{e&&_t&&ge&&!F?document.documentElement.classList.add(Ie.hideFloatingHeader):document.documentElement.classList.remove(Ie.hideFloatingHeader),e&&ge?document.documentElement.classList.add(Ie.hasFloatingHeader):document.documentElement.classList.remove(Ie.hasFloatingHeader)}),[e,_t,ge,F]);const[Ot,Tt]=(0,i.useState)(null),Pt=(0,i.useRef)(null),Dt=(0,i.useMemo)((()=>{var e,t,n;return(0,he.It)("products",{config:ue.w,data:{layout:{columns:null!==(e=null==vt||null===(t=vt.results)||void 0===t?void 0:t.length)&&void 0!==e?e:0,rows:1},results:null!==(n=null==vt?void 0:vt.results)&&void 0!==n?n:[],source:"Bing"},signal:"rank",signalSource:"vertical",settings:De})}),[vt,De]),Ht=(0,i.useRef)(null),Bt=(0,i.useMemo)((()=>{var e,t,n;return(0,he.It)("products_middle",{config:ue.L,data:{layout:{columns:null!==(e=null==vt||null===(t=vt.results_middle)||void 0===t?void 0:t.length)&&void 0!==e?e:0,rows:1},results:null!==(n=null==vt?void 0:vt.results_middle)&&void 0!==n?n:[],source:"Bing"},signal:"rank",signalSource:"vertical",settings:De})}),[vt,De]),Gt=!(null==Bt||null===(u=Bt.data)||void 0===u||null===(u=u.data)||void 0===u||!u.results.length),Vt=(0,i.useRef)(null);Gt&&null===Vt.current&&Lt.length>0&&(Vt.current=Gt?Lt.length>=8?Lt.length-4:Lt.length+1:void 0);const Wt=Vt.current,Ft=(0,i.useRef)(new Set),Ut=(0,i.useCallback)((()=>{var e;const t=[...null!=Dt&&null!==(e=Dt.data)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.results.length?[Dt.id]:[],...Gt?[Bt.id]:[]],n=t.every((e=>Ft.current.has(e)));pt&&n&&Et.onAllAdRequestImpressionGroupsRendered("images",{adsRequestId:"page_one_ads",impressionEndpoint:pt,visibilityEndpoint:xt,adGroupIds:t})}),[null==Dt||null===(h=Dt.data)||void 0===h||null===(h=h.data)||void 0===h?void 0:h.results.length,Dt.id,Gt,Bt.id,pt,Et,xt]),Yt=(0,i.useCallback)((e=>{var t;const n=null==Dt||null===(t=Dt.data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.results;if(!n||0===n.length||n.length!==e.length)return;const r=Ne({visibilityMask:e,results:n,adImpressionGroupId:Dt.id,adImpressionGroupType:Dt.type,rank:0,elementIsLikelyBlockedByAdBlocker:(0,pe.XT)(Pt.current)});pt&&(Et.onAdImpressionGroupRendered(r),Ft.current.add(Dt.id),Ut())}),[null==Dt||null===(m=Dt.data)||void 0===m||null===(m=m.data)||void 0===m?void 0:m.results,Dt.id,Dt.type,pt,Et,Ut]),zt=(0,i.useCallback)((e=>{var t;const n=null==Bt||null===(t=Bt.data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.results;if(!n||0===n.length||n.length!==e.length)return;const r=Ne({visibilityMask:e,results:n,adImpressionGroupId:Bt.id,adImpressionGroupType:Bt.type,rank:1,elementIsLikelyBlockedByAdBlocker:(0,pe.XT)(Ht.current)});pt&&(Et.onAdImpressionGroupRendered(r),Ft.current.add(Bt.id),Ut())}),[null==Bt||null===(f=Bt.data)||void 0===f||null===(f=f.data)||void 0===f?void 0:f.results,Bt.id,Bt.type,pt,Et,Ut]),qt=(0,i.useCallback)(((e,t)=>{var n,r;const i=null==Dt||null===(n=Dt.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.results;if(!i)return;const a=null==i||null===(r=i[e])||void 0===r?void 0:r.tid;null==a||"partial"!==t&&"full"!==t||Et.onTidFirstVisible("images",Dt.id,a,t)}),[Et,Dt]),Xt=(0,i.useCallback)(((e,t)=>{var n,r;const i=null==Bt||null===(n=Bt.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.results;if(!i)return;const a=null==i||null===(r=i[e])||void 0===r?void 0:r.tid;null==a||"partial"!==t&&"full"!==t||Et.onTidFirstVisible("images",Bt.id,a,t),P("serp_images_productsmiddle_impression")}),[Et,Bt]),Zt=(0,i.useRef)(null);(0,i.useLayoutEffect)((()=>{const e=null==It?void 0:It.current;if(e){const t=e=>{Zt.current!==e&&(Zt.current=e,Tt(function({innerHeight:e,itemHeight:t,filtersRowHeight:n,gap:r,maxHeight:i=800}){const a=e-t-n-r-8,s=a-t-2*r;return(0,ye.qE)(300,s>=Math.max(400,2*t)?s:a,i)}({innerHeight:window.innerHeight,itemHeight:e,filtersRowHeight:null!=W?W:0,gap:Oe})))};t(e.offsetHeight);let n=null;if(window.ResizeObserver){const r=new ResizeObserver((e=>{for(const r of e)null!=n&&cancelAnimationFrame(n),n=requestAnimationFrame((()=>{t(r.contentRect.height)}))}));return r.observe(e),()=>{null!=n&&cancelAnimationFrame(n),r.unobserve(e)}}}}),[It,W,Oe]),(0,i.useEffect)((()=>{if(jt&&null!=It&&It.current){const e=It.current.getBoundingClientRect();(0,Ae.A)({top:e.top+window.pageYOffset-(null!=W?W:0)-Oe/2,behavior:D?"auto":"smooth"})}}),[It,W,Oe,jt,D]),(0,i.useEffect)((()=>{const t=t=>{if(e){const e=document.activeElement,n=e instanceof HTMLElement&&("input"===e.localName||"textarea"===e.localName||e.isContentEditable);if(Ye.has("iai"))switch(t.key){case"Escape":l.Ay.replace({pathname:l.Ay.location.pathname,search:`?${(0,l.MM)(l.Ay.location.search,{iai:null})}`},l.Ay.location.state);break;case"ArrowLeft":bt&&!n&&l.Ay.replace({pathname:l.Ay.location.pathname,search:`?${(0,l.MM)(l.Ay.location.search,{iai:bt.image})}`},l.Ay.location.state);break;case"ArrowRight":St&&!n&&l.Ay.replace({pathname:l.Ay.location.pathname,search:`?${(0,l.MM)(l.Ay.location.search,{iai:St.image})}`},l.Ay.location.state)}}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[Ye,e,bt,St]);const $t=(0,i.useCallback)((e=>{w(),l.Ay.replace({pathname:l.Ay.location.pathname,search:`?${(0,l.MM)(l.Ay.location.search,{iai:e===At?null:null!=e?e:null})}`},l.Ay.location.state)}),[w,At]),Qt=(0,i.useCallback)((()=>{j(),w()}),[j,w]),Kt=!F&&!Y&&!z,Jt=(0,Ee.A)(At,at,lt,(e=>ut.some(((t,n)=>t.image===e||e===n.toString()))),{maxRestoredUrls:5}),en=(0,i.useMemo)((()=>(ce||de)&&!oe&&(0,ve.b)(null==De?void 0:De.get("kp"))&&!rt),[ce,de,oe,De,rt]),tn=Wt&&(0,p.jsx)(ke.tH,{onError:(e,t)=>{console.error(e,t),P("jse","react_images_middle_ads_error",{msg:encodeURIComponent(e.message)})},FallbackComponent:Re.A,children:(0,p.jsxs)("section",{className:Ie.middleProductAdsContainer,children:[(0,p.jsx)("hr",{}),(0,p.jsx)(me.z,{layoutHasPole:!0,vertical:"images",area:"mainline",index:Wt,isWide:!0,isDefault:!0,children:(0,p.jsx)(Me,{ref:Ht,ia:Bt,query:Z,externalLinkTarget:"_blank",onAdsFirstRendered:zt,onAdBecameVisible:Xt,hasMiddleProductAds:Gt})}),(0,p.jsx)("hr",{})]})});return(0,p.jsxs)("div",{className:Ie.root,onClickCapture:()=>{Jt(),S()},"data-testid":"zci-images",children:[(0,p.jsx)($.A,{isActive:e,onInViewChange:U}),Kt&&(0,p.jsx)("div",{style:{height:`${W}px`,width:"100%"}}),(0,p.jsx)(ke.tH,{onError:(e,t)=>{console.error(e,t),P("jse","react_images_filters_error",{msg:encodeURIComponent(e.message)})},fallbackRender:Re.A,children:(0,p.jsx)(X,{className:s()(Ie.filters,{[Ie.isSticky]:Kt}),ref:V,isSticky:Kt,onRegionChange:()=>{Ge()},showSafeSearch:!oe,onSafeSearchChange:()=>{Ge()},selectedImageFilters:qe,onImageFilterOpen:e=>{T({filterAction:"open",filterId:e})},onImageFilterChange:(e,t)=>{T({filterAction:"change",filterId:e}),l.Ay.replace({pathname:l.Ay.location.pathname,search:`?${(0,l.MM)(l.Ay.location.search,{iaf:(0,te.v)(je(je({},qe),{},{[e]:t}))||null,iai:null})}`},l.Ay.location.state)}})}),mt?(0,p.jsx)(re.A,{children:(0,p.jsx)(re.A.Container,{children:(0,p.jsx)(re.A.Mainline,{children:en?(0,p.jsx)(ae.A,{query:Z,requery:Ge,vertical:"images",hasOrganicResults:!1,className:Ie.noResults}):(0,p.jsx)(ie.A,{query:Z,messageI18nKey:"NO_RESULTS_FOR_IMAGES_QUERY",activeFilters:gt,onResetFilters:ft,className:Ie.noResults,vertical:"images"})})})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:s()(Ie.contentWrapper,Ie.withHorizontalPadding,{[Ie.isLoading]:rt&&!Je&&et.length>0,[Ie.isDark]:Ce}),children:[!(null==vt||null===(g=vt.results)||void 0===g||!g.length)&&(0,p.jsx)(ke.tH,{onError:(e,t)=>{console.error(e,t),P("jse","react_images_ads_error",{msg:encodeURIComponent(e.message)})},fallbackRender:Re.A,children:(0,p.jsx)("section",{children:(0,p.jsx)(me.z,{layoutHasPole:!0,vertical:"images",area:"mainline",index:0,isWide:!0,isDefault:!0,children:(0,p.jsx)(Me,{ref:Pt,ia:Dt,query:Z,externalLinkTarget:"_blank",onAdsFirstRendered:Yt,onAdBecameVisible:qt})})})}),(0,p.jsxs)("section",{children:[!(null==vt||null===(v=vt.results)||void 0===v||!v.length)&&(0,p.jsx)("div",{className:s()(Ie.sectionHeading,Ie.withBottomMargin),children:(0,p.jsx)(fe.y,{as:"h2",variant:"body-large-emphasis",children:Te("IMAGES")})}),(0,p.jsx)("ol",{className:Ie.mosaic,ref:H,children:Lt.map(((e,t)=>(0,p.jsxs)(i.Fragment,{children:[!(!Wt||Wt!==t)&&(0,p.jsxs)("li",{children:[tn,(0,p.jsx)("div",{className:s()(Ie.sectionHeading,Ie.withBottomMargin),children:(0,p.jsx)(fe.y,{as:"h2",variant:"body-large-emphasis",children:Te("IMAGES")})})]},"middle-products"),(0,p.jsxs)("li",{children:[(0,p.jsx)("ol",{className:s()(Ie.mosaicRow,{[Ie.hidden]:_t&&(!jt||jt&&!Ot)}),style:t>0&&Wt!=t?{marginTop:`${Oe}px`}:void 0,children:e.map(((e,t)=>{const n=ut[e.itemIndex];return(0,p.jsx)("li",{className:Ie.mosaicItem,ref:ht[e.itemIndex],style:{width:`${e.wrapperWidth}px`},children:(0,p.jsx)(x,{onClick:$t,image:n,scaledHeight:e.scaledHeight,selected:At===n.image,externalLinkTarget:Be?"_blank":"_self",onExternalLinkClick:Qt})},(0,k.xX)(n))}))}),!(Rt!==t||!_t||!(!jt||jt&&Ot))&&(0,p.jsx)("div",{style:jt&&Ot?{marginTop:Oe}:void 0,children:(0,p.jsx)(M,je(je({className:s()({[Ie.withoutHorizontalPadding]:jt&&Ot})},jt&&Ot?{variant:"inline",height:Ot}:{variant:"full-screen"}),{},{image:_t,prevImage:bt,nextImage:St,externalLinkTarget:Be?"_blank":"_self",onExternalLinkClick:()=>{j()},onBodyScrollLockRemoved:G,onClose:()=>{l.Ay.replace({pathname:l.Ay.location.pathname,search:`?${(0,l.MM)(l.Ay.location.search,{iai:null})}`},l.Ay.location.state)},onPrev:bt?()=>{var e;l.Ay.replace({pathname:l.Ay.location.pathname,search:`?${(0,l.MM)(l.Ay.location.search,{iai:null!==(e=null==bt?void 0:bt.image)&&void 0!==e?e:null})}`},l.Ay.location.state)}:void 0,onNext:St?()=>{var e;l.Ay.replace({pathname:l.Ay.location.pathname,search:`?${(0,l.MM)(l.Ay.location.search,{iai:null!==(e=null==St?void 0:St.image)&&void 0!==e?e:null})}`},l.Ay.location.state)}:void 0}))})]})]},`${t}-${e.length}`)))}),Wt&&Wt>Lt.length&&(0,p.jsx)("section",{children:tn})]})]}),!!kt&&(0,p.jsx)("div",{className:s()(Ie.loadMoreWrapper,Ie.withHorizontalPadding),children:We?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(K.G,{onNext:lt,isLoading:null!=rt&&rt,pageId:Qe},ut[ut.length-1]?(0,k.xX)(ut[ut.length-1]):"spy"),!(!rt||!ut.length)&&(0,p.jsx)(J.A,{size:Pe.is3x?"x3":Pe.is2x?"x2":"x1",color:Ce?"white":"black"})]}):(0,p.jsx)(se.A,{fullWidth:Y,variant:"secondary",size:"medium",onClick:()=>{N(),lt()},disabled:rt,children:rt?(0,p.jsx)(J.A,{size:Pe.is3x?"x3":Pe.is2x?"x2":"x1",color:Ce?"white":"black"}):Te("SHOW_MORE")},null===(L=et.at(-1))||void 0===L?void 0:L.next)})]})]})}function Ne({visibilityMask:e,results:t,adImpressionGroupId:n,adImpressionGroupType:r,rank:i,elementIsLikelyBlockedByAdBlocker:a}){const s=[];for(let o=0;o<t.length;o++){var l;const n=t[o],r=e[o];"unknown"!==r&&s.push({tid:n.tid,initialVisibility:r,extensions:Object.values(null!==(l=n.extensions)&&void 0!==l?l:{}).map((e=>({tid:e.tid,isSiteLinkExtension:!1})))})}return{id:n,type:r,items:s,position:"mainline",vertical:"images",orientation:"horizontal",rank:i,elementIsLikelyBlockedByAdBlocker:a}}const Me=(0,i.forwardRef)((function({ia:e,query:t,onAdsFirstRendered:n,onAdBecameVisible:r,externalLinkTarget:a,hasMiddleProductAds:s},l){var o,c,d,u;const{fireImpression:h,fireEngagement:m,fireExternalLinkClick:f,fireViewMoreItemsInVertical:g}=(0,de.A)(e),{translate:v}=(0,_.A)(),x=null!==(o=null===(c=e.data)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.results)&&void 0!==o?o:[],E=null!==(d=null===(u=e.data)||void 0===u||null===(u=u.data)||void 0===u||null===(u=u.results)||void 0===u?void 0:u.length)&&void 0!==d?d:0,k=(0,i.useMemo)((()=>{const e=e=>(0,ce.C)(e,{isSideModule:!1,upstreamSource:"Bing",multipleAds:E>0}),t={"has-middle-ads":s?1:0};return{fireImpression:n=>{h((r=>je(je(je({},e(r)),n),t)))},fireEngagement:n=>{m((r=>je(je(je({},e(r)),n),t)))},fireExternalLinkClick:n=>{f((r=>je(je(je({},e(r)),n),t)))},fireViewMoreItemsInVertical:n=>{g((r=>je(je(je({},e(r)),n),t)))}}}),[E,h,m,f,g]);return(0,p.jsx)(oe.w,{ref:l,adGroupId:e.id,instantAnswerTitle:(0,p.jsx)(fe.y,{as:"h2",className:Ie.sectionHeading,variant:"body-large-emphasis",rightContent:(0,p.jsx)(ge.K,{variant:"icon-solid"}),children:v("ADS")}),externalLinkTarget:a,results:x,variant:"products_middle"===e.type?"middle":"mainline",vertical:"images",ignoreResizeOnFixedBody:!0,query:t,iaPixels:k,onAdsFirstRendered:n,onAdBecameVisible:r})}))},39469:(e,t,n)=>{var r=n(46518),i=Math.hypot,a=Math.abs,s=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,l=0,o=arguments.length,c=0;l<o;)c<(n=a(arguments[l++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*s(i)}})}}]);