if (!self.__uv && self.importScripts) importScripts('/active/uv/uv.bundle.js', '/active/uv/uv.config.js', '/active/uv/uv.handler.js');
"use strict";(self.webpackChunkddg=self.webpackChunkddg||[]).push([[3708],{91220:(e,r,t)=>{t.d(r,{A:()=>C});var a=t(13461),n=t(42895),s=(t(23792),t(3362),t(27495),t(62953),t(96472)),o=t(71465),i=t(5049),l=t.n(i),c=t(34588),d=t(63896),u=t(37322),m=t(52821);t(84864),t(38781),t(25440);var S=t(51720);const p="e5mHm1h7zO9DTbTWrNDl";t(6704);var v=t(97284);const E=["children","inline","className"],h=["children","node"],f=["children","node"];function A(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[__uv.$wrap((r))]?arguments[__uv.$wrap((r))]:{};r%2?A(Object(t),!0).forEach((function(r){(0,a.A)(e,r,t[__uv.$wrap((r))])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const _=s.lazy((()=>Promise.all([t.e(335),t.e(3813)]).then(t.bind(t,83813)))),x=s.lazy((()=>t.e(7731).then(t.bind(t,97731))));function T({children:e,noAnimation:r,appendSourcesToLastParagraph:t,useCompactSpacing:a,headingSize:i="default"}){const A=(0,s.useMemo)((()=>(e=>{const r="PLACEHOLDER_FOR_DOUBLE_DOLLAR";let t=e.replace(/\$\$/g,r);return t=t.replace(/\\\[\s*\n\s*/g,"\\[").replace(/\s*\n\s*\\\]/g,"\\]"),t=t.replace(/\\\[([\s\S]*?)\\\]/g,((e,r)=>`$$${r.replace(/\n/g," ")}$$`)),t=t.replace(/\\\(([\s\S]*?)\\\)/g,((e,r)=>`$${r}$`)),t=t.replace(new RegExp(r,"g"),"$$"),t})(e)),[e]),T=(0,s.useMemo)((()=>/(?:[^*_]|^)(\\\(|\\\[|\\\)|\\\]|\$\{1,2}(?!\d|\d+\.\d+|\s\d|\s+to|\s+and|\s*$)|\$\{1,2}(?=\{)|\$(?!\d|\d+\.\d+|\s\d|\s+to|\s+and|\s*$))/.test(A)),[A]),C=[c.A],O=[m.A];T&&(C.push(d.A),O.push([u.A,{output:"html",errorColor:"var(--sds-color-text-01)"}]));const R=s.useRef(0),N=(0,s.useMemo)((()=>({code(e){var r;let{children:t,inline:a,className:o}=e,i=(0,n.A)(e,E);const c=null===(r=/language-(\w+)/.exec(String(o)))||void 0===r?void 0:r[__uv.$wrap((1))];return a?"math"===c||"latex"===c?(0,v.jsx)(s.Suspense,{fallback:(0,v.jsx)("div",{className:p,children:t}),children:(0,v.jsx)(x,{children:t})}):(0,v.jsx)(S.xL,{as:"code",variant:"label",className:l()("qlv4I7skMF6Meluz0u8c"),children:t}):(0,v.jsx)(s.Suspense,{fallback:(0,v.jsx)("div",{className:p,children:t}),children:"math"===c||"latex"===c?(0,v.jsx)(x,{children:t}):(0,v.jsx)(_,g(g({language:c||""},i),{},{children:String(t)}))})},table(e){let{children:r,node:t}=e,a=(0,n.A)(e,h);return(0,v.jsx)("div",g(g({className:"vVit0JSoZ8XlfJeykNy8"},a),{},{children:(0,v.jsx)("table",{children:r})}))},a(e){let{children:r,node:t}=e,a=(0,n.A)(e,f);return(0,v.jsx)(S.xL,g(g({as:"a",linkVariant:"interactive",rel:"noopener",target:"_blank"},a),{},{children:r}))},p:({children:e})=>0===R.current&&t?(R.current=1,(0,v.jsxs)("p",{children:[(0,v.jsx)("span",{className:"_97w2Z3njlMm7Og_zyqu4",children:e}),t]})):(0,v.jsx)("p",{children:e})})),[t]);return(0,v.jsx)("div",{className:l()("VrBPSncUavA1d7C9kAc5",{FQ2XxQQbwcMwCtbtebpY:r,Vqub5EUe5Nm1I1P6LXzZ:a,U_5uJaZtJAYAFWUmk7aU:"large"===i}),children:(0,v.jsx)(o.$,{remarkPlugins:C,rehypePlugins:O,components:N,children:A})})}const C=s.memo(T,((e,r)=>e.children===r.children))},44086:(e,r,t)=>{t.r(r),t.d(r,{default:()=>Ce});var a=t(13461),n=(t(74423),t(23792),t(27495),t(21699),t(25440),t(5746),t(62953),t(96472)),s=t(5049),o=t.n(s),i=t(29005),l=t(78903),c=t(12100),d=t(93519),u=t(34672),m=t(40356),S=t(7014);t(3362),t(38781),t(3296),t(27208),t(48408);var p=t(60608),v=t(13185);function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[__uv.$wrap((r))]?arguments[__uv.$wrap((r))]:{};r%2?E(Object(t),!0).forEach((function(r){(0,a.A)(e,r,t[__uv.$wrap((r))])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function f(e){const r=new Error(e);return r.isFatal=!0,r}const A={streamedContent:"",isStreaming:!1,streamError:null,isStreamLoadingDelayed:!1,sources:[]};function g(e,r){switch(r.type){case"STREAM_START":return h(h({},A),{},{isStreaming:!0});case"STREAM_DATA":return h(h({},e),{},{streamedContent:e.streamedContent+r.payload,isStreamLoadingDelayed:!1});case"STREAM_SOURCES":return h(h({},e),{},{sources:r.payload});case"STREAM_COMPLETE":return h(h({},e),{},{isStreaming:!1,isStreamLoadingDelayed:!1});case"STREAM_ERROR":return h(h({},e),{},{isStreaming:!1,streamError:r.payload.error,isStreamLoadingDelayed:!1});case"REDACT_CONTENT":return h(h({},e),{},{streamedContent:""});case"SET_LOADING_DELAYED":return h(h({},e),{},{isStreamLoadingDelayed:r.payload});default:return e}}var _=t(69700),x=t(42760);const T={root:"Yf9bk3ILYs4b7K_9B8tY",backgroundWrapper:"nKc6YUBojXXvgstPGALT",content:"d1KvUBkGOywTiqUIZcou",animateBorder:"j65mReB0hdJgGJ8dGmd6","rotate-glow":"yd5bt86lBlIwkR_9KKTQ",animateBorderContinuous:"bWGaCk6qIWA9B9RWdHQU","rotate-glow-continuous":"Wp2NqHv0o2O2XpEjy4wJ",animateCompletion:"XC0RfGfD_FcJFDkKAS_G","completion-glow":"pxMrN43Y8N021Dt0yY42",minWidth:"DGIJkMrYBVXr459ieNMD"};var C=t(97284);function O({minWidth:e=!1,showAnimatedBorder:r=!1,showLoadingAnimatedBorder:t=!1,showCompletionGlow:a=!1,noAnimation:s=!1,children:i}){const l=(0,n.useRef)(null),[c,d]=(0,n.useState)(!1),u=(r||t)&&!s;return(0,n.useEffect)((()=>{t&&!s?d(!1):a&&!s&&d(!0)}),[t,a,s]),(0,C.jsxs)("div",{ref:l,className:o()(T.root,{[T.animateBorder]:u&&!t&&!c,[T.animateBorderContinuous]:u&&t,[T.animateCompletion]:c,[T.minWidth]:e}),children:[(0,C.jsx)("div",{className:T.backgroundWrapper}),(0,C.jsx)("div",{className:T.content,children:i})]})}var R=t(24104),N=t(51720),I=t(604),j=t(82825),w=t(22880);const b={learnMore:"E3gC3VJ7uVuHrl6v17us",learnMoreIcon:"rAj_oa3PGp3wXGxolkoS",modalWrapper:"Hyp5I90HJLu5DrQy3mlc",modalContent:"ZPjEsEJxz96tLc9I28sE"};function y({item:e}){const{fireSeeMore:r}=(0,d.A)(e),[t,a]=(0,n.useState)(!1),s=(0,n.useRef)(!0),o=(0,n.useRef)(!1),i=(0,n.useRef)(null),{Translate:l}=(0,p.A)(),c=()=>{t||(r(void 0,!0),a(!0))};(0,n.useEffect)((()=>{let e=null;var r;if(o.current)return t?e=setTimeout((()=>{const e=document.querySelector('[aria-label="close"]');null==e||e.focus()}),200):null===(r=i.current)||void 0===r||r.focus(),()=>{e&&clearTimeout(e)};o.current=!0}),[t]);const u=(0,n.useCallback)((()=>{a(!1),s.current=!0}),[a]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{tabIndex:0,className:b.learnMore,onClick:c,onKeyDown:e=>{"Enter"===e.key&&c()},ref:i,"aria-label":"Learn More About Assist",title:"Learn More About Assist",role:"button",children:(0,C.jsx)(R.InfoIcon,{"aria-hidden":"true"})}),(0,C.jsxs)(I.Z,{open:t,onRequestClose:u,variant:"default",preventBodyScroll:!0,className:b.modalWrapper,children:[(0,C.jsx)(I.Z.Header,{illustration:(0,C.jsx)(j.A,{}),onClickClose:u,className:b.modalHeader,children:w.N}),(0,C.jsx)(I.Z.Body,{children:(0,C.jsxs)("div",{className:b.modalContent,children:[(0,C.jsx)(l,{as:"p",i18nkey:"DUCKASSIST_LEARN_MORE_P1",params:['<a href="/duckduckgo-help-pages/results/duckassistbot/">',"</a>"]}),(0,C.jsx)(l,{as:"p",i18nkey:"DUCKASSIST_LEARN_MORE_P2",params:['<a href="/?q=duckduckgo&ia=chat">',"</a>"]}),(0,C.jsx)(l,{as:"p",i18nkey:"DUCKASSIST_LEARN_MORE_P3",params:['<a href="/settings#aifeatures">',"</a>"]}),(0,C.jsx)(l,{as:"p",i18nkey:"DUCKASSIST_LEARN_MORE_P4",params:['<a href="https://duckduckgo.com/terms">',"</a>"]})]})})]})]})}var D=t(15118);const k={root:"g8mClvN4LqWxcREUbed7",actions:"sbEnJRwWnxCihsV_rKDW",titleWrapper:"pxX3f3ReeZnfMp13QBvc",title:"jN5GdFSL1nj0PRRAOw7x",dark:"FYzW6BKWnkpE8Qa3qBmL",assistIcon:"zHmKXya03lRu_br7aWAj",learnMoreWrapper:"pHzjxo6WrTRP8tGajQ3q",settings:"NiVQCzRqTJPVtfvHMUZQ",closeIcon:"fZXCoaNTOoarQBFvIm9G"};var M=t(94561);const L=function({item:e,answer:r}){const[t,a]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1),i=(0,n.useRef)(null),l=(0,n.useRef)(null),{fireWithPixelData:c}=(0,d.A)(e);return(0,n.useEffect)((()=>()=>{i.current&&(clearTimeout(i.current),i.current=null),l.current&&(clearTimeout(l.current),l.current=null)}),[]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("button",{className:"uOg26OYpfPD5jfoA7tag","aria-label":"Copy",onClick:()=>{navigator.clipboard.writeText(r.text),a(!0),c(w.M1.SHARE_BUTTON_COPY,void 0,!0),i.current&&clearTimeout(i.current),i.current=setTimeout((()=>{a(!1),i.current=null}),2e3)},children:t?(0,C.jsx)(R.CheckIcon,{}):(0,C.jsx)(R.CopyIcon,{})}),"function"==typeof navigator.share&&(0,C.jsx)("button",{className:"d7DCczzJLlM2QghB_odN","aria-label":"Share",onClick:()=>{var t;navigator.share({title:null===(t=e.data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.query,text:r.text,url:window.__uv$setSource(__uv).__uv$location.href+"&assist=true"}),o(!0),c(w.M1.SHARE_BUTTON_SHARE,void 0,!0),l.current&&clearTimeout(l.current),l.current=setTimeout((()=>{o(!1),l.current=null}),2e3)},children:s?(0,C.jsx)(R.CheckIcon,{}):(0,C.jsx)(R.ShareAppleIcon,{})})]})};function P({item:e,shouldShowActions:r,className:t,onSettingsSaved:a,isGotIt:s=!1,onDismiss:i,answer:l,hasValidAnswer:c}){const[d,u]=(0,n.useState)(!1),{translate:m}=(0,p.A)(),S=(0,M.A)(),v=e=>{e.preventDefault(),e.stopPropagation(),u(!0)},E=()=>{u(!1)};return(0,C.jsxs)("div",{className:o()(k.root,t),children:[(0,C.jsx)("button",{className:k.titleWrapper,disabled:s,onClick:v,"aria-hidden":"true",tabIndex:-1,"aria-label":m(s?"ASSIST_GOT_IT":"ASSIST_SETTINGS"),children:(0,C.jsxs)(N.xL,{as:"span",variant:"body-emphasis",className:o()(k.title,{[k.dark]:S}),children:[(0,C.jsx)("span",{className:k.assistIcon,children:s?(0,C.jsx)(R.CheckIcon,{}):(0,C.jsx)(R.AssistIcon,{})})," ",s?m("ASSIST_GOT_IT"):w.N]})}),(0,C.jsx)("div",{className:k.learnMoreWrapper,children:r&&s?(0,C.jsx)("button",{className:k.settings,onClick:e=>{e.preventDefault(),e.stopPropagation(),i&&i()},"aria-label":m("ASSIST_DISMISS"),title:m("ASSIST_DISMISS"),children:(0,C.jsx)(R.CloseIcon,{className:k.closeIcon,"aria-hidden":"true"})}):r&&(0,C.jsxs)("div",{className:k.actions,children:[c&&(0,C.jsx)(L,{item:e,answer:l}),(0,C.jsx)(y,{item:e}),(0,C.jsx)("button",{className:k.settings,onClick:v,"aria-label":m("ASSIST_SETTINGS"),title:m("ASSIST_SETTINGS"),children:(0,C.jsx)(R.SettingsIcon,{"aria-hidden":"true"})})]})}),(0,C.jsx)(D.A,{isOpen:d,onClose:E,onSave:e=>{a&&a(e),E()},item:e})]})}const U={root:"fPd5p7_C_O7yt1fWyHLl",fadeInDown:"Ll7Y3GNrEePGewCEFlUu",animationsDisabled:"INece9pT1Th59P2wPzqV","dot-bouncing":"rKzlDMCngbbeMwO3Dvr7",message:"o7dp_bNKVOg39F8jzZHz"};function B({className:e,animationsDisabled:r=!1}){const[t,a]=(0,n.useState)(0),s=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=setTimeout((()=>{a(1)}),1750);return()=>clearTimeout(e)}),[]),(0,C.jsxs)("div",{ref:s,className:o()(U.root,e,{[U.animationsDisabled]:r}),"aria-label":"Loading...",children:[[0,1,2].map((e=>(0,C.jsx)("div",{"aria-hidden":"true"},e))),(0,C.jsx)("span",{className:U.message,children:0===t?"Reading search results...":"Generating answer..."})]})}var F=t(50592);const W={introduction:"XgSabY_GiH5oQph9tRxH",searchQuery:"DjNPEZDkws17lr1sMhUA",fadeOut:"PCvoMTWAUQrV83ZT6h1p"};var G=t(61720),V=t(1583);function K({onAskClick:e,item:r}){const{translate:t,Translate:a}=(0,p.A)(),{fireWithPixelData:s}=(0,d.A)(r),[i,l]=(0,n.useState)(!1),u="b"===(0,c.A)("searchExperiments").getActiveVariant("searchquerydisplayexp"),m=(0,G.V8)(),S=(0,n.useRef)(null);return(0,n.useEffect)((()=>{s(w.M1.GENERATE_CTA_IMPRESSION,void 0,!0)}),[s]),(0,n.useEffect)((()=>()=>{S.current&&clearTimeout(S.current)}),[]),(0,C.jsxs)("div",{className:o()(W.introduction,{[W.fadeOut]:i}),children:[u&&(0,C.jsx)(V.A,{as:"span",lineClamp:2,className:W.searchQuery,children:(0,C.jsx)(a,{i18nkey:"DUCKASSIST_INTRO_QUERY_DISPLAY_TEXT",tagName:"span",params:[m]})}),(0,C.jsx)(F.A,{as:"button",variant:"primary","aria-label":"Assist",size:"small","data-testid":"duckassist-action-button",onClick:r=>{r.preventDefault(),s(w.M1.GENERATE_CTA_CLICK,void 0,!0),l(!0),S.current&&clearTimeout(S.current),S.current=setTimeout((()=>{e(r)}),300)},children:t("ASSIST_GENERATE_ANSWER_CTA")})]})}var H=t(91220),X=t(45404),Y=t(2180),q=t(5051),Z=t(79673);const Q={link:"eCtaNKsm4_5YMF04DXNm",favicon:"Vn6HzAucdE6nYvNIqXFa",withoutFavicon:"mwzX09gREhWzaiZVvPga",ellipsisContainer:"oIVX15sjLkyyAut5AZps",tooltipLabel:"pfxd5GY6POHQqpwymFhF",tooltipLabelText:"YF83rMosZeSDIY1GOj6z"};function z({item:e,sources:r,className:t,fromCache:a,autoAnswer:s}){const i=(0,n.useId)();return(0,C.jsx)("span",{className:o()(t),children:r.map(((r,t)=>{var n;let o;try{o=new URL(r.article.link).hostname.replace(/^www\./,"")}catch(c){o=r.article.link}const l=`${i}-${o}-${t}`;return(0,C.jsx)("span",{children:(0,C.jsx)(X.n,{id:l,label:(0,C.jsx)(X.J,{children:(0,C.jsxs)("div",{className:Q.tooltipLabel,children:[(0,C.jsx)("span",{className:Q.ellipsisContainer,children:(0,C.jsx)(V.A,{inline:!0,children:r.article.text})}),(0,C.jsx)("span",{className:Q.tooltipLabelText,children:o})]})}),"aria-label":r.article.text,placement:"top",children:(0,C.jsx)("span",{children:(0,C.jsx)($,{addFavicon:!0,item:e,href:r.article.link,fromCache:a,autoAnswer:s,children:(0,C.jsx)("span",{className:Q.ellipsisContainer,children:(0,C.jsx)(V.A,{inline:!0,children:(null===(n=r.article)||void 0===n?void 0:n.site)||r.article.link})})},"article")})})},l)}))})}function $({item:e,href:r,addFavicon:t,fromCache:a,autoAnswer:s,children:i}){const[l,c]=(0,n.useState)(!1),{fireAttributionLinkClick:u}=(0,d.A)(e),m=r&&t?(0,Z.q)(r):null;return r?(0,C.jsxs)(Y.A,{item:e,href:r,className:o()(Q.link,{[Q.withoutFavicon]:l}),onClick:()=>{u({ct:window.ct,rl:"string"==typeof window.rl?window.rl:void 0,from_cta:a||s?"0":"1"},!0)},children:[m&&!l?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(q.A,{className:Q.favicon,src:m,height:"16",width:"16",loading:"eager",onError:()=>{c(!0)}})," "]}):null,(0,C.jsx)("span",{className:Q.linkText,children:i})]}):(0,C.jsx)("span",{children:i})}var J,ee=t(78056),re=t(56650);function te(){return te=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[__uv.$wrap((r))];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[__uv.$wrap((a))]=t[__uv.$wrap((a))])}return e},te.apply(null,arguments)}const ae=function(e){return n.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),J||(J=n.createElement("path",{fill:"currentColor",d:"M11.29 2.9c.244-.97 1.623-.97 1.865 0l.568 2.268a8.167 8.167 0 0 0 5.942 5.943l2.268.567c.97.243.97 1.622 0 1.864l-2.268.567a8.168 8.168 0 0 0-5.942 5.942l-.568 2.27c-.242.97-1.621.97-1.864 0l-.568-2.27a8.167 8.167 0 0 0-5.94-5.942l-2.27-.567c-.97-.242-.97-1.621 0-1.864l2.27-.567a8.166 8.166 0 0 0 5.94-5.943l.568-2.268Zm.88 12.323a.933.933 0 1 0 0 1.867.933.933 0 0 0 0-1.867Zm-.386-7.093a.374.374 0 0 0-.373.388l.19 4.942a.28.28 0 0 0 .279.27h.58a.28.28 0 0 0 .281-.27l.188-4.942a.374.374 0 0 0-.373-.388h-.772Z"})))},ne={errorMessage:"HLbvOdrrbusy9yBdNxmR",errorMessageIcon:"CBWXQ3NpO17py8noz7UT"};function se({message:e}){return(0,C.jsxs)("div",{className:ne.errorMessage,"data-testid":"duckassist-error-message",children:[(0,C.jsx)(ae,{className:ne.errorMessageIcon}),e]})}var oe=t(50336);function ie(e,r,t,a){const[s,o]=(0,n.useState)(""),i=(0,n.useRef)("");return(0,n.useEffect)((()=>{if(t)return o(e),void(null==a||a());let n=0;const s=Math.min(i.current.length,e.length);for(;n<s&&i.current[__uv.$wrap((n))]===e[__uv.$wrap((n))];)n++;o(e.substring(0,n));let l=n;const c=setInterval((()=>{l<e.length?(o(e.substring(0,l+1)),l++):(clearInterval(c),null==a||a())}),r);return()=>{clearInterval(c),i.current=e}}),[e,r]),s}var le=t(29235);const ce={root:"EGARdDpKk3RGt1iwo2Ne",truncated:"aNqdwZ_aECd9GXe88HRw",streamMoreBtn:"koHX8L23yJGE9vOaFGoh",answer:"dyuE6BMumAPpqiH0dQVX",expanded:"imdZY0YPDl1j5lzQNc4M",transitioning:"mB7qD4RibPnjwTaaw4Wi",originalAnswer:"IqvOSgvBI5nRoH1JWz2D",streamingAnswer:"lfsc_nlT38jFNTGYBLkG",streamedAnswer:"MRZjjipLkBv6bB2kJfwZ",expandCollapseFade:"P_G2JkMRcPoo40_JLp14",expandCollapseBtn:"PLK1wBPo1HNCTyi8WZU2",expandedBtn:"wR3RVJp9jE6VtV4_A9QB",sourcesInline:"r9A9FbwL91fnnJKgCCsi",sources:"lxo5xuEdDE644cfjFMll",streamMoreBtnThinking:"Ya5bzj18tYu21fQAYUSO","thinking-pulse":"legqJSKiB26rEwmayNZA",divider:"oDl0WrFraPKuuvPGJRY6",streamedContainer:"zBnVFziItO0pXJTzY3v4",streamMoreBtnPlaceholder:"BvXQedfcBn5FXUZXBNDs",actionsFooter:"idLvf1LZu9uMAu2EUphI",showLines:"a09iFvBHs_waxGIqlLkw"};function de({item:e,answer:r,fromCache:t,autoAnswer:a,answerGenerationDuration:s,asyncGeneration:i,expanded:l,onToggle:c,isError:u,sources:m,needsExpand:S,answerContentRef:v,onStreamRequest:E,streamedContent:h,isStreaming:f,isStreamLoadingDelayed:A,streamError:g,streamSources:_,chatMetadata:x,askAIChatVisible:T}){const{translate:O}=(0,p.A)(),{fireWithPixelData:N}=(0,d.A)(e),I=!f&&r.text&&!u&&!h&&!g,j=A,b=g,y=f&&""===h&&!b,D=""!==h&&!g,[k,M]=(0,n.useState)(!1),L=ie(r.text,1,!(f||t&&!r.text)),P=ie(h,1,!f,(()=>{""!==h&&M(!0)})),U=S&&!l&&!f,[F,W]=(0,n.useState)("expand");return(0,n.useEffect)((()=>{var e;N(w.M1.ANSWER,{sources:Array.isArray(m)?m.length:0,error:u?"1":"0",error_code:null!==(e=r.errorCode)&&void 0!==e?e:"na",from_cta:t||a?"0":"1",did_auto_answer:a&&!t?"1":"0",answer_generation_duration:null!=s?s:0,async_generation:i?"1":"0"},!0)}),[N,m,u,t,a,r.text,s,i]),(0,C.jsxs)("div",{className:o()(ce.root,{[ce.truncated]:U}),children:[(0,C.jsxs)("div",{ref:v,"data-testid":"duckassist-answer-content",className:o()(ce.answer,{[ce.expanded]:l||f,[ce.truncated]:U}),children:[(0,C.jsx)(H.A,{noAnimation:!0,useCompactSpacing:!0,appendSourcesToLastParagraph:(0,oe.QM)(m)&&!P&&(0,C.jsx)("span",{className:ce.sourcesInline,children:(0,C.jsx)(z,{item:e,sources:m,className:ce.sourcePill,fromCache:t,autoAnswer:a})}),children:L}),S&&!l&&!f&&(0,C.jsx)("div",{className:ce.expandCollapseFade})]}),(0,C.jsxs)("div",{className:ce.streamedContainer,children:[D&&(0,C.jsx)("div",{className:ce.divider}),j&&!b&&(0,C.jsx)(B,{animationsDisabled:!1}),b&&(0,C.jsx)(se,{message:b}),h&&!b&&(0,C.jsxs)("div",{className:o()(ce.streamedAnswer,{[ce.expanded]:l||f}),children:[(0,C.jsx)(H.A,{noAnimation:!0,useCompactSpacing:!0,children:P}),(0,oe.QM)(_)&&k?(0,C.jsx)(z,{className:ce.sources,item:e,sources:_,fromCache:t,autoAnswer:a}):null]}),(!S||l)&&(0,C.jsxs)("div",{className:o()(ce.actionsFooter,{[ce.showLines]:(I||y)&&"expand"===F}),children:[(I||y)&&"expand"===F&&(0,C.jsx)(re.a,{onClick:E,className:o()(ce.streamMoreBtn,{[ce.streamMoreBtnThinking]:y}),children:y?O("DUCKASSIST_MORE_BUTTON_THINKING"):(0,C.jsxs)(C.Fragment,{children:[O("DUCKASSIST_EXPAND_BUTTON")," ",(0,C.jsx)(R.ChevronDownMediumIcon,{})]})}),T&&(!P||k)&&(0,C.jsx)(le.A,{className:o()(ce.askAI),placeholder:O("ASK_DUCK_AI_CHAT_FOLLOWUP_BUTTON"),fallbackPrompt:O("ASK_AI_CHAT_FOLLOWUP_PROMPT"),containerType:"wikinlp",chatMetadata:x,stackedLayoutMaxWidthThreshold:w.UI.STACKED_LAYOUT_MAX_WIDTH_THRESHOLD,variant:le.v.Collapsible,onExpand:()=>W("ask"),onCollapse:()=>W("expand"),forceExpand:!0===k||void 0,fromCache:t})]})]}),S&&!l&&(0,C.jsx)(ee.d,{className:ce.expandCollapseBtn,isExpanded:!1,onToggle:c,hideLines:!0})]})}var ue=t(39814),me=t(55921),Se=t(84735);const pe={disclaimer:"ZiuZvDE_meDAiBLaWJVj"};function ve(){const{translate:e}=(0,p.A)(),r=e((0,S.Ay)("(max-width: 512px)")?"DUCKASSIST_MOBILE_DISCLAIMER":"DUCKASSIST_DISCLAIMER");return(0,C.jsx)("p",{className:pe.disclaimer,children:r})}const Ee={feedbackWrapper:"q5WgKSgVhraIWBoL6dRH"};function he(e){const{item:r,intent:t,answer:a,signal:s,fromCache:o,layoutArea:i,layoutIndex:l,kbe:c,kbg:d,score:u,onFeedbackInteraction:m,isMobile:S,fromCta:p,didAutoAnswer:v}=e,E=(0,n.useMemo)((()=>({toPixelData:function(){return{intent:t,answer:a,signal:s,fromCache:o,layoutArea:i,layoutIndex:l,kbe:c,kbg:d,score:u,fromCta:p,didAutoAnswer:v}},item:r})),[r,t,a,s,o,i,l,c,d,u]),h=(0,C.jsx)(ve,{});return(0,C.jsx)("footer",{className:Ee.feedbackWrapper,children:(0,C.jsx)(Se.A,{captions:[h],feedbackPrompt:(0,C.jsx)(me.A,{category:"duckassist",variant:"thumbs",ctxData:E,shuffleOptions:!0,vertical:"web",hideFeedbackTextOnMobile:S,onClick:m}),leadingCaption:!0})})}const fe=e=>e<=w.Wq.MAX_PROMPTS&&(w.Wq.SHOW_ON_ODD?e%2==1:e%2==0);var Ae=t(13489);const ge={root:"l9zzCS1YxeRxFHNsi9IQ",feedbackExp:"kKiMGBI82U6yU_AJL8bL",mainMessage:"Rb4E5rkUBlkwgIcwjYDJ"};function _e(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function xe(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[__uv.$wrap((r))]?arguments[__uv.$wrap((r))]:{};r%2?_e(Object(t),!0).forEach((function(r){(0,a.A)(e,r,t[__uv.$wrap((r))])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_e(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const Te=e=>1===e||"1"===e;function Ce({item:e}){var r,t,a,s,E,T,R,N,I,j,b,y,D,k,M,L,U,F,W,G,V,H,X,Y,q;const Z=(0,c.A)("searchExperiments"),Q=null!==(r=(0,S.Ay)(`(max-width: ${w.UI.MOBILE_BREAKPOINT}px)`))&&void 0!==r&&r,z=(0,x.A)(),$=(0,c.A)("settings",[w.$Z.DUCKASSIST_FREQUENCY,w.$Z.AI_CHAT_ENABLED]),J=String($.get(w.$Z.DUCKASSIST_FREQUENCY)),ee=(()=>{try{return"true"===sessionStorage.getItem(w.d5.NEVER_SELECTED)||"0"===J}catch(e){return!1}})(),[re,te]=(0,u.A)(w.d5.OPT_IN,!1),[ae,ne]=(0,u.A)(w.d5.OPT_IN_COUNT,0),[se,oe]=(0,n.useState)(!1),[ie,le]=(0,n.useState)(ee),[ce,me]=(0,n.useState)("0"===J||ee),Se=null!==(t=(0,S.Ay)("(prefers-reduced-motion: reduce)",!0))&&void 0!==t&&t,[pe,ve]=(0,n.useState)(!1),Ee=(0,n.useRef)(!1),_e=(0,n.useRef)(null);(0,n.useLayoutEffect)((()=>{if("0"===J){const e=window.__uv$setSource(__uv).__uv$location.search;if(!e.includes(`${w.vX.ASSIST}=${w.vX.VALUES.ASSIST_FALSE}`)){const r=(0,_.MM)(e,{[w.vX.ASSIST]:w.vX.VALUES.ASSIST_FALSE});_.Ay.replace({search:r})}}}),[J]),(0,n.useEffect)((()=>{try{var r;sessionStorage.getItem(w.d5.DISMISSED_QUERY)===((null===(r=e.data)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.query)||"")?(me(!0),te(!0)):(me(!1),te(!1))}catch(t){console.error("Error accessing sessionStorage",t)}}),[null===(a=e.data)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.query]),(0,n.useEffect)((()=>{if("0"!==J)try{var r;sessionStorage.removeItem(w.d5.NEVER_SELECTED),le(!1),oe(!1),te(!1);sessionStorage.getItem(w.d5.DISMISSED_QUERY)===((null===(r=e.data)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.query)||"")&&(sessionStorage.removeItem(w.d5.DISMISSED_QUERY),me(!1),te(!1))}catch(t){console.error("Error accessing sessionStorage",t)}}),[J,null===(s=e.data)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.query]),(0,n.useEffect)((()=>{try{const e="true"===sessionStorage.getItem(w.d5.NEVER_SELECTED)||"0"===J;e&&"0"!==J?sessionStorage.removeItem(w.d5.NEVER_SELECTED):e&&(le(!0),oe(!0),te(!0))}catch(e){console.error("Error accessing sessionStorage",e)}}),[J]),(0,n.useEffect)((()=>()=>{_e.current&&(clearTimeout(_e.current),_e.current=null)}),[]);const Ce=()=>{le(!0),oe(!0),te(!0);try{sessionStorage.setItem(w.d5.NEVER_SELECTED,"true")}catch(e){console.error("Error setting sessionStorage",e)}$.set(w.$Z.DUCKASSIST_FREQUENCY,"0",{saveToCloud:!0}),_e.current=null},Oe=(0,_.ok)(),[Re,Ne]=(0,n.useState)(!!re),Ie=(0,n.useContext)(i.M),je=(0,n.useContext)(l.I),we=e.getSignal({searchExperiments:Z,isMobile:Q,canShowSideModules:z}),be=!(!Ie||Ie.isDefault),ye=Te(null===(E=e.data)||void 0===E||null===(E=E.data)||void 0===E?void 0:E.can_auto_answer)&&("medium"===we||"high"===we||(null===(T=e.data)||void 0===T||null===(T=T.data)||void 0===T?void 0:T.isSignalUpgradable)),De=1===(null===(R=e.data)||void 0===R||null===(R=R.data)||void 0===R?void 0:R.assist_operator)||Oe.get(w.vX.ASSIST)===w.vX.VALUES.ASSIST_TRUE||ye||"low"===we&&be||"medium"===we&&(be||J===w.Px.OFTEN||J===w.Px.SOMETIMES&&"number"==typeof(null===(N=e.data)||void 0===N||null===(N=N.data)||void 0===N?void 0:N.precheck_counts)&&(null===(I=e.data)||void 0===I||null===(I=I.data)||void 0===I?void 0:I.precheck_counts)>5)||"high"===we&&(be||J===w.Px.OFTEN||J===w.Px.SOMETIMES&&"number"==typeof(null===(j=e.data)||void 0===j||null===(j=j.data)||void 0===j?void 0:j.precheck_counts)&&(null===(b=e.data)||void 0===b?void 0:b.data.precheck_counts)>5),ke="answer"===(null===(y=e.data)||void 0===y||null===(y=y.data)||void 0===y?void 0:y.action),Me=!("answer"!==(null===(D=e.data)||void 0===D||null===(D=D.data)||void 0===D?void 0:D.action)||!e.data.data.intent),Le="answer"===(null===(k=e.data)||void 0===k||null===(k=k.data)||void 0===k?void 0:k.action)&&null!==(M=e.data.data.score)&&void 0!==M?M:null,Pe=(0,n.useRef)(!1),[Ue,Be,Fe,We]=(0,Ae.A)(null===(L=e.data)||void 0===L?void 0:L.data,Pe),[Ge,Ve]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(Fe){Ve(!0);const e=setTimeout((()=>{Ve(!1)}),w.F5.MINIMUM_DURATION_MS);return()=>clearTimeout(e)}Ue&&Ve(!1)}),[Fe,Ue]);const Ke=Fe||Ge,He=!(!Ue||Ue.isError),{fireEngagement:Xe,fireWithPixelData:Ye}=(0,d.A)(e),qe=(0,n.useRef)(!1);(0,n.useEffect)((()=>{var r;const t=1===(null===(r=e.data)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.assist_operator);qe.current||!De||ke&&!t||(qe.current=!0,Be())}),[Be,ke,De,null===(U=e.data)||void 0===U||null===(U=U.data)||void 0===U?void 0:U.assist_operator]);const Ze=(null==Ue?void 0:Ue.isError)&&"ERROR_OVERLOAD_FRONTEND"===(null==Ue?void 0:Ue.errorCode),Qe=1===(null===(F=e.data)||void 0===F||null===(F=F.data)||void 0===F?void 0:F.assist_operator),ze=!ke&&!Te(null===(W=e.data)||void 0===W||null===(W=W.data)||void 0===W?void 0:W.can_auto_answer),$e=Qe||ze,Je=(0,n.useRef)(null),er=w._G.test((null==Ue?void 0:Ue.text)||""),[rr,tr]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=e=>{e.persisted&&(Ze&&qe.current||Pe.current)&&(Pe.current=!1,Be())};return window.addEventListener("pageshow",e),()=>window.removeEventListener("pageshow",e)}),[Ze,qe,Be]);const ar=!!(He&&er&&rr),nr=function(e,r,t=!0){const[a,s]=(0,n.useState)(!1),o=(0,n.useCallback)((()=>{if(!e.current||!t)return void s(!1);const a=e.current.scrollHeight;s(a>r)}),[e,r,t]);return(0,n.useEffect)((()=>{if(!t||!e.current)return void s(!1);o();let r=null;return window.ResizeObserver&&(r=new ResizeObserver(o),r.observe(e.current)),()=>{r&&r.disconnect()}}),[e,t,o]),a}(Je,w.UI.CONTENT_OVERFLOW_THRESHOLD,ar),sr=ar&&nr,[or,ir]=(0,n.useState)($e);(0,n.useLayoutEffect)((()=>{tr(!!Je.current)}),[He]);const{endpoint:lr,postData:cr}=null!==(G=null===(V=e.data)||void 0===V?void 0:V.data)&&void 0!==G?G:{},{async:dr}=null!=cr?cr:{},ur=null!=dr,mr=xe(xe({},cr||{}),(null==Ue?void 0:Ue.text)&&{short_answer:Ue.text}),{streamedContent:Sr,isStreaming:pr,streamError:vr,isStreamLoadingDelayed:Er,streamTellMeMoreAnswer:hr,sources:fr}=function({endpoint:e,postData:r,maxRetries:t=3,item:a}){const{translate:s}=(0,p.A)(),[o,i]=(0,n.useReducer)(g,A),{fireWithPixelData:l}=(0,d.A)(a),c=(0,n.useRef)(null),u=s("DUCKASSIST_ERROR_STREAM_ERROR"),m=(0,n.useRef)(0),S=(0,n.useRef)(null),E=(0,n.useCallback)((async()=>{if(!e)return void i({type:"STREAM_ERROR",payload:{error:u}});S.current=new AbortController;const{signal:a}=S.current;m.current=0,i({type:"STREAM_START"}),c.current&&clearTimeout(c.current),c.current=setTimeout((()=>{i({type:"SET_LOADING_DELAYED",payload:!0})}),2e3);try{const n=new URL(e,window.__uv$setSource(__uv).__uv$location.origin);n.searchParams.set("stream","1"),n.searchParams.set("expanded","1"),await(0,v.y)(n.toString(),{method:"POST",headers:{"Content-Type":"text/event-stream"},body:JSON.stringify(r),signal:a,onopen(e){if(i({type:"STREAM_START"}),m.current=0,e.ok)return Promise.resolve();throw f(s("DUCKASSIST_ERROR_CONTENT_NOT_RETURNED"))},onmessage(e){if(!a.aborted&&e.data)try{const r=JSON.parse(e.data);if("DONE_SUCCESS"===(null==r?void 0:r.command))return;if("DONE_ERROR"===(null==r?void 0:r.command))throw f("Stream error signal received");if("REDACT_CONTENT"===(null==r?void 0:r.command))throw f("REDACTED_CONTENT");null!=r&&r.delta&&(i({type:"STREAM_DATA",payload:r.delta}),c.current&&clearTimeout(c.current)),null!=r&&r.sources&&i({type:"STREAM_SOURCES",payload:r.sources})}catch(r){throw console.error("Failed to process message from stream",r),r}},onclose(){a.aborted||(i({type:"STREAM_COMPLETE"}),c.current&&clearTimeout(c.current))},onerror(e){if(e instanceof Error&&e.isFatal){"REDACTED_CONTENT"===e.message&&i({type:"REDACT_CONTENT"});const r="REDACTED_CONTENT"!==e.message?e.message:u;throw i({type:"STREAM_ERROR",payload:{error:r}}),l("stream_error",{error:e.message}),e}if(m.current+=1,m.current>t)throw i({type:"STREAM_ERROR",payload:{error:u}}),e;e instanceof Error&&e.name}})}catch(n){}}),[e,r,u,t,l,s]);return(0,n.useEffect)((()=>()=>{S.current&&S.current.abort(),c.current&&clearTimeout(c.current)}),[]),h(h({},o),{},{streamTellMeMoreAnswer:E})}({endpoint:lr,postData:mr,item:e}),{ref:Ar,inView:gr}=(0,m.A)({triggerOnce:!0,rootMargin:w.UI.INTERSECTION_OBSERVER_ROOT_MARGIN,skip:!1});(0,n.useEffect)((()=>{gr&&Ye(w.M1.INVIEW,{has_cta:ke||De?"0":"1",from_pill:Oe.get(w.vX.ASSIST)===w.vX.VALUES.ASSIST_TRUE?"1":"0"},!0)}),[Ye,gr,ke,De,Oe,je]),(0,n.useEffect)((()=>{var r,t;je&&(je.ref.current.duckassist_rendered=!0,gr&&(je.ref.current.duckassist_inview=!0),Ie&&(je.ref.current.duckassist_index=Ie.index,je.ref.current.duckassist_area=Ie.area),je.ref.current.duckassist_precheck_counts=null===(r=e.data)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.precheck_counts,je.ref.current.duckassist_has_cta=!(ke||De),je.ref.current.duckassist_from_pill=Oe.get(w.vX.ASSIST)===w.vX.VALUES.ASSIST_TRUE,je.ref.current.duckassist_from_cache=ke,je.ref.current.duckassist_intent=Me,je.ref.current.duckassist_kbe=J,je.ref.current.duckassist_is_upgradable=null===(t=e.data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.isSignalUpgradable,je.ref.current.duckassist_answer=!!Ue,Ue&&(je.ref.current.duckassist_answer_sources=Array.isArray(Ue.sources)?Ue.sources.length:0,je.ref.current.duckassist_answer_error=Ue.isError,je.ref.current.duckassist_answer_error_code=Ue.errorCode))}),[Ie,je,gr,$,e,Oe,ke,De,Ue]);const _r=(0,n.useRef)(J),xr="sidebar"===(null==Ie?void 0:Ie.area)||"mainline"===(null==Ie?void 0:Ie.area)&&(null==Ie?void 0:Ie.index)>0,Tr=(0,n.useMemo)((()=>!(pe||!He||Re||_r.current!==w.Px.SOMETIMES&&_r.current!==w.Px.OFTEN||xr||!fe(ae))),[pe,He,Re,xr,ae]),Cr=0===(null===(H=e.data)||void 0===H||null===(H=H.data)||void 0===H?void 0:H.is_recent_topic)&&He&&"1"===$.get(w.$Z.AI_CHAT_ENABLED);(0,n.useEffect)((()=>{!Ee.current&&ae<w.Wq.MAX_PROMPTS&&(Ee.current=!0,ne(ae+1))}),[ae,ne]);const Or=(0,n.useMemo)((()=>{var r;return null!==(r=e.data)&&void 0!==r&&null!==(r=r.data)&&void 0!==r&&r.query&&null!=Ue&&Ue.text?{duckAssist:{prompt:decodeURIComponent(e.data.data.query),answer:{text:Ue.text,sources:Ue.sources}}}:void 0}),[null===(X=e.data)||void 0===X||null===(X=X.data)||void 0===X?void 0:X.query,Ue]);(0,n.useEffect)((()=>{const e=document.querySelector(`[class*="${w.UI.CSS_CLASSES.ROOT}"]`);return e&&e.classList.add(w.UI.CSS_CLASSES.ALLOW_OVERFLOW_FOR_ANIMATIONS),()=>{e&&e.classList.remove(w.UI.CSS_CLASSES.ALLOW_OVERFLOW_FOR_ANIMATIONS)}}),[]);const Rr=!(null==Ue||!Ue.isError),Nr=(null==Ue?void 0:Ue.sources)||[];return ce?null:(0,C.jsxs)("div",{ref:Ar,onClick:()=>{Xe(void 0,!0)},className:o()(ge.root,ge.feedbackExp),children:[(0,C.jsxs)(O,{className:ge.mainMessage,showAnimatedBorder:He,showLoadingAnimatedBorder:!Ue&&Ke,showCompletionGlow:He&&!ke&&!Ke&&!pr,noAnimation:Se,children:[(0,C.jsx)(P,{className:ge.header,item:e,shouldShowActions:!Ke,isGotIt:ie||se,onDismiss:()=>{me(!0),te(!0);try{var r;const t=(null===(r=e.data)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.query)||"";sessionStorage.setItem(w.d5.DISMISSED_QUERY,t)}catch(n){console.error("Error setting sessionStorage",n)}const t=window.__uv$setSource(__uv).__uv$location.search,a=(0,_.MM)(t,{[w.vX.ASSIST]:w.vX.VALUES.ASSIST_FALSE});_.Ay.replace({search:a})},hasValidAnswer:He,answer:Ue||{text:"",sources:[],isError:!1},onSettingsSaved:e=>{e===w.Px.NEVER?Ce():($.set(w.$Z.DUCKASSIST_FREQUENCY,e,{saveToCloud:!0}),ie&&(le(!1),oe(!1))),Tr&&Ne(!0)}}),ie?(0,C.jsx)(ue.bQ,{onNoAiLinkClick:()=>{Ye(w.M1.NOAI_LINK_CLICK,{count:ae},!0)}}):(0,C.jsxs)(C.Fragment,{children:[!Ue||Ke?Ke||De?(0,C.jsx)(B,{animationsDisabled:Se}):(0,C.jsx)(K,{item:e,onAskClick:e=>{qe.current=!0,Be(),Xe({ask:!0},!0),e.stopPropagation()}}):(0,C.jsx)(de,{item:e,answer:Ue,fromCache:ke,autoAnswer:De,answerGenerationDuration:We,asyncGeneration:ur,expanded:or,onToggle:()=>ir((e=>!e)),isError:Rr,sources:Nr,needsExpand:sr,answerContentRef:Je,streamedContent:Sr,isStreaming:pr,onStreamRequest:()=>{Ye(w.M1.STREAM_MORE_BUTTON_CLICK,void 0,!0),ir(!0),hr()},isStreamLoadingDelayed:Er,streamError:vr,streamSources:fr,askAIChatVisible:Cr,chatMetadata:Or}),Tr&&!ie&&(0,C.jsx)(ue.Ay,{item:e,onDismissed:({removeUIAfterDismiss:e,isNeverOptionSelected:r})=>{Ne(!0),!0===r?Ce():!1===r&&(le(!1),oe(!1)),e&&Ne(!0)}})]})]}),He&&(!sr||or)&&(0,C.jsx)(he,{item:e,intent:Me,answer:encodeURIComponent(Ue.text),signal:null!=we?we:null,fromCache:ke,layoutArea:null!==(Y=null==Ie?void 0:Ie.area)&&void 0!==Y?Y:null,layoutIndex:null!==(q=null==Ie?void 0:Ie.index)&&void 0!==q?q:null,kbe:J,kbg:$.get(w.$Z.AI_CHAT_ENABLED),score:Le,hasStreamedContent:!!Sr,isMobile:Q,fromCta:!ke&&!De,didAutoAnswer:De,onFeedbackInteraction:()=>ve(!0)})]})}}}]);